
{% extends "layout.html" %}

{% block content %}
<div class="leaderboard-container">
  <div class="leaderboard-header">
    <h1>Skor Tablosu</h1>
    <p>Beyin geliştirme oyunlarımızda en yüksek skorları takip edin. Performansınızı diğer oyuncularla karşılaştırın ve zirveye ulaşın.</p>
  </div>

  <!-- Oyun Kategorileri -->
  <div class="game-categories">
    <button class="category-btn active" data-category="all">
      <i class="fas fa-trophy"></i>
      <span>Tüm Oyunlar</span>
    </button>
    <button class="category-btn" data-category="basic">
      <i class="fas fa-graduation-cap"></i>
      <span>Temel Oyunlar</span>
    </button>
    <button class="category-btn" data-category="memory">
      <i class="fas fa-brain"></i>
      <span>Hafıza Oyunları</span>
    </button>
    <button class="category-btn" data-category="puzzle">
      <i class="fas fa-puzzle-piece"></i>
      <span>Bulmaca Oyunları</span>
    </button>
    <button class="category-btn" data-category="iq">
      <i class="fas fa-lightbulb"></i>
      <span>IQ Geliştirme</span>
    </button>
  </div>

  <!-- Oyun Filtreleri -->
  <div class="game-filters-container">
    <!-- Temel Oyunlar Filtreleri -->
    <div class="game-filter" data-filter-category="basic">
      <button class="game-filter-btn active" data-game="word-puzzle">
        <i class="fas fa-font"></i>
        <span>Kelime Bulmaca</span>
      </button>
      <button class="game-filter-btn" data-game="memory-match">
        <i class="fas fa-brain"></i>
        <span>Hafıza Kartları</span>
      </button>
      <button class="game-filter-btn" data-game="labyrinth">
        <i class="fas fa-route"></i>
        <span>Labirent</span>
      </button>
      <button class="game-filter-btn" data-game="puzzle">
        <i class="fas fa-puzzle-piece"></i>
        <span>Yapboz</span>
      </button>
      <button class="game-filter-btn" data-game="number-sequence">
        <i class="fas fa-sort-numeric-up"></i>
        <span>Sayı Dizisi</span>
      </button>
    </div>
    
    <!-- Hafıza Güçlendirme Oyunları Filtreleri -->
    <div class="game-filter" data-filter-category="memory" style="display: none;">
      <button class="game-filter-btn" data-game="memory-cards">
        <i class="fas fa-clone"></i>
        <span>Kart Eşleştirme</span>
      </button>
      <button class="game-filter-btn" data-game="number-chain">
        <i class="fas fa-link"></i>
        <span>Sayı Zinciri</span>
      </button>
      <button class="game-filter-btn" data-game="audio-memory">
        <i class="fas fa-music"></i>
        <span>Sesli Hafıza</span>
      </button>
      <button class="game-filter-btn" data-game="n-back">
        <i class="fas fa-braille"></i>
        <span>N-Back Testi</span>
      </button>
    </div>

    <!-- IQ Geliştirme Oyunları Filtreleri -->
    <div class="game-filter" data-filter-category="iq" style="display: none;">
      <button class="game-filter-btn" data-game="sudoku">
        <i class="fas fa-th"></i>
        <span>Sudoku</span>
      </button>
      <button class="game-filter-btn" data-game="2048">
        <i class="fas fa-cubes"></i>
        <span>2048</span>
      </button>
      <button class="game-filter-btn" data-game="chess">
        <i class="fas fa-chess"></i>
        <span>Satranç</span>
      </button>
      <button class="game-filter-btn" data-game="logic-puzzles">
        <i class="fas fa-project-diagram"></i>
        <span>Mantık Bulmacaları</span>
      </button>
      <button class="game-filter-btn" data-game="tangram">
        <i class="fas fa-shapes"></i>
        <span>Tangram</span>
      </button>
    </div>

    <!-- Bulmaca Oyunları Filtreleri -->
    <div class="game-filter" data-filter-category="puzzle" style="display: none;">
      <button class="game-filter-btn" data-game="3d-rotation">
        <i class="fas fa-cube"></i>
        <span>3D Döndürme</span>
      </button>
      <button class="game-filter-btn" data-game="rubik-cube">
        <i class="fas fa-dice"></i>
        <span>Rubik Küpü</span>
      </button>
    </div>

    <!-- Tüm Oyunlar Filtresi -->
    <div class="game-filter" data-filter-category="all">
      <!-- JavaScript tarafında otomatik doldurulacak -->
    </div>
  </div>

  <!-- Lider Podyumu ve Grafik -->
  <div class="leaderboard-card">
    <div class="card-header">
      <h3>Skor Sıralaması</h3>
      <div class="card-header-actions">
        <div class="game-icon-container">
          <div class="game-icon">
            <i class="fas fa-font"></i>
          </div>
          <span class="game-name">Kelime Bulmaca</span>
        </div>
        <button class="refresh-btn">
          <i class="fas fa-sync-alt"></i>
        </button>
      </div>
    </div>

    <!-- Liderler Podyumu ve Performans Grafiği -->
    <div class="leaderboard-highlights">
      <div class="leaders-podium">
        <div class="podium-item podium-second">
          <div class="podium-avatar">2</div>
          <div class="podium-block">
            <span class="podium-score">0</span>
          </div>
          <div class="podium-name">-</div>
        </div>
        <div class="podium-item podium-first">
          <div class="podium-avatar">1</div>
          <div class="podium-block">
            <span class="podium-score">0</span>
          </div>
          <div class="podium-name">-</div>
        </div>
        <div class="podium-item podium-third">
          <div class="podium-avatar">3</div>
          <div class="podium-block">
            <span class="podium-score">0</span>
          </div>
          <div class="podium-name">-</div>
        </div>
      </div>
      <div class="stats-graph">
        <div class="graph-title">Kategori Performansı</div>
        <div class="graph-container" id="performance-graph">
          <!-- JavaScript ile doldurulacak grafik çubukları -->
        </div>
      </div>
    </div>
    
    <div class="leaderboard-stats">
      <div class="stat-box">
        <div class="stat-value" id="total-games">-</div>
        <div class="stat-label">Toplam Oyun</div>
      </div>
      <div class="stat-box">
        <div class="stat-value" id="highest-score">-</div>
        <div class="stat-label">En Yüksek Skor</div>
      </div>
      <div class="stat-box">
        <div class="stat-value" id="total-players">-</div>
        <div class="stat-label">Oyuncu Sayısı</div>
      </div>
      <div class="stat-box">
        <div class="stat-value" id="your-rank">-</div>
        <div class="stat-label">Senin Sıran</div>
      </div>
    </div>
    
    <div class="leaderboard-table">
      <div class="table-header">
        <div class="rank-cell">Sıra</div>
        <div class="username-cell">Oyuncu</div>
        <div class="score-cell">Skor</div>
        <div class="date-cell">Tarih</div>
      </div>
      <div class="table-body" id="scores-container">
        <!-- Skorlar buraya yüklenecek -->
        <div class="loading-scores">
          <div class="spinner"></div>
          <p>Skorlar yükleniyor...</p>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Kullanıcı ID'sini meta etiketi olarak ekle -->
{% if current_user and current_user.is_authenticated %}
<meta name="user-id" content="{{ current_user.id }}">
{% endif %}
{% endblock %}

{% block styles %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/leaderboard.css') }}">
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/leaderboard.js') }}"></script>
{% endblock %}
