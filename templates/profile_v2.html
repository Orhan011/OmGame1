{% extends "layout.html" %}

{% block title %}Profil - {{ user.username }}{% endblock %}

{% block content %}
<div class="profile-container">
  <!-- Profil Sekmesi -->
  <div class="profile-tabs">
    <nav>
      <div class="nav nav-tabs" id="nav-tab" role="tablist">
        <button class="nav-link active" id="nav-stats-tab" data-bs-toggle="tab" data-bs-target="#nav-stats" type="button" role="tab" aria-controls="nav-stats" aria-selected="true">İstatistikler</button>
        <button class="nav-link" id="nav-scores-tab" data-bs-toggle="tab" data-bs-target="#nav-scores" type="button" role="tab" aria-controls="nav-scores" aria-selected="false">Oyun Skorları</button>
        <button class="nav-link" id="nav-settings-tab" data-bs-toggle="tab" data-bs-target="#nav-settings" type="button" role="tab" aria-controls="nav-settings" aria-selected="false">Ayarlar</button>
        <button class="nav-link" id="nav-favorites-tab" data-bs-toggle="tab" data-bs-target="#nav-favorites" type="button" role="tab" aria-controls="nav-favorites" aria-selected="false">Favori Oyunlar</button>
      </div>
    </nav>
    <div class="tab-content" id="nav-tabContent">
      <!-- Favori Oyunlar Sekmesi -->
      <div class="tab-pane fade" id="nav-favorites" role="tabpanel" aria-labelledby="nav-favorites-tab">
        {% if user.favorite_games %}
        <div class="favorite-games-container">
          <div class="row">
            {% for game in user.favorite_games %}
            <div class="col-md-6 col-lg-4 mb-4">
              <div class="favorite-game-card">
                <div class="favorite-game-icon">
                  <i class="{{ game.icon }}"></i>
                </div>
                <div class="favorite-game-info">
                  <h4>{{ game.name }}</h4>
                  <p>{{ game.description }}</p>
                  <div class="favorite-game-actions">
                    <a href="{{ game.url }}" class="btn btn-primary btn-sm">Oyna</a>
                    <form action="{{ url_for('remove_favorite') }}" method="post" class="d-inline">
                      <input type="hidden" name="game_id" value="{{ game.id }}">
                      <button type="submit" class="btn btn-outline-danger btn-sm">
                        <i class="fas fa-heart-broken"></i> Favorilerden Çıkar
                      </button>
                    </form>
                  </div>
                </div>
              </div>
            </div>
            {% endfor %}
          </div>
        </div>
        {% else %}
        <div class="no-favorites">
          <i class="fas fa-heart"></i>
          <p>Henüz favori oyununuz yok.</p>
          <p class="text-muted">Sevdiğiniz oyunları favorilere ekleyerek buradan hızlıca erişebilirsiniz.</p>
          <a href="{{ url_for('all_games') }}" class="btn btn-primary mt-3">Tüm Oyunlar</a>
        </div>
        {% endif %}
      </div>
    </div>
  </div>
</div>
{% endblock %}
