{% extends "layout.html" %}

{% block content %}
<div class="coding-expert-container">
  <div class="game-header">
    <h1>Kod Çözme Uzmanı <span class="version-badge">v1.0</span></h1>
    <p class="game-description">Algoritma mantığını öğrenerek programlama becerilerinizi geliştirin ve kodlama dünyasını keşfedin.</p>
  </div>

  <div class="coding-dashboard">
    <!-- Sol Panel: Seviye ve Görevler -->
    <div class="coding-sidebar">
      <div class="level-selection">
        <h3><i class="fas fa-layer-group"></i> Zorluk Seviyeleri</h3>
        <ul id="difficulty-levels">
          <li class="active" data-difficulty="beginner">
            <span class="level-icon"><i class="fas fa-baby"></i></span>
            <span class="level-name">Başlangıç</span>
            <span class="badge-count">5 görev</span>
          </li>
          <li data-difficulty="easy">
            <span class="level-icon"><i class="fas fa-walking"></i></span>
            <span class="level-name">Kolay</span>
            <span class="badge-count">5 görev</span>
          </li>
          <li data-difficulty="medium">
            <span class="level-icon"><i class="fas fa-running"></i></span>
            <span class="level-name">Orta</span>
            <span class="badge-count">5 görev</span>
          </li>
          <li data-difficulty="hard">
            <span class="level-icon"><i class="fas fa-trophy"></i></span>
            <span class="level-name">Zor</span>
            <span class="badge-count">5 görev</span>
          </li>
          <li data-difficulty="expert">
            <span class="level-icon"><i class="fas fa-crown"></i></span>
            <span class="level-name">Uzman</span>
            <span class="badge-count">5 görev</span>
          </li>
        </ul>
      </div>

      <div class="tasks-panel">
        <h3><i class="fas fa-tasks"></i> Görevler</h3>
        <div id="tasks-container">
          <!-- Görevler JavaScript ile doldurulacak -->
        </div>
      </div>

      <div class="stats-panel">
        <h3><i class="fas fa-chart-line"></i> İstatistikler</h3>
        <div class="stat-item">
          <span class="stat-label">Çözülen Görevler:</span>
          <span class="stat-value" id="solved-tasks">0 / 25</span>
        </div>
        <div class="stat-item">
          <span class="stat-label">Başarı Oranı:</span>
          <span class="stat-value" id="success-rate">0%</span>
        </div>
        <div class="stat-item">
          <span class="stat-label">Ortalama Süre:</span>
          <span class="stat-value" id="avg-time">0 dakika</span>
        </div>
        <div class="stat-item">
          <span class="stat-label">En İyi Çözüm:</span>
          <span class="stat-value" id="best-solution">-</span>
        </div>
      </div>
    </div>

    <!-- Orta Panel: Kod Editörü ve Görev Açıklaması -->
    <div class="coding-main-panel">
      <div class="task-description-panel">
        <h3 id="task-title">Göreve başlamak için sol menüden bir seviye ve görev seçin</h3>
        <div id="task-description">
          <p>Kod Çözme Uzmanı'na hoş geldiniz! Bu oyunda programlama mantığını öğrenecek ve algoritma becerilerinizi geliştireceksiniz.</p>
          <p>Nasıl oynanır:</p>
          <ol>
            <li>Sol menüden bir zorluk seviyesi seçin</li>
            <li>Görevler listesinden bir görev seçin</li>
            <li>Görevi okuyun ve anlamaya çalışın</li>
            <li>Kod editöründe çözümünüzü yazın</li>
            <li>Çalıştır butonuna basarak kodunuzu test edin</li>
            <li>Sonuçları kontrol edin ve gerekirse kodunuzu düzeltin</li>
          </ol>
          <p>Hazır olduğunuzda başlamak için sol menüden bir görev seçin!</p>
        </div>
      </div>

      <div class="editor-panel">
        <div class="editor-header">
          <div class="editor-title">Kod Editörü</div>
          <div class="editor-controls">
            <button id="run-code" class="btn btn-primary" disabled><i class="fas fa-play"></i> Çalıştır</button>
            <button id="reset-code" class="btn btn-secondary" disabled><i class="fas fa-undo"></i> Sıfırla</button>
          </div>
        </div>
        <div id="code-editor">// Kod yazmak için bir görev seçin
console.log("Merhaba, Dünya!");</div>
      </div>

      <div class="output-panel">
        <div class="output-header">
          <div class="output-title">Çıktı ve Test Sonuçları</div>
          <div class="output-controls">
            <button id="clear-output" class="btn btn-sm btn-secondary"><i class="fas fa-trash"></i> Temizle</button>
          </div>
        </div>
        <div id="output-container">
          <div class="output-placeholder">
            <i class="fas fa-terminal"></i>
            <p>Kodunuzu çalıştırdığınızda sonuçlar burada görüntülenecek</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Sağ Panel: İpuçları, Çözümler ve Yardım -->
    <div class="coding-help-panel">
      <div class="hint-panel">
        <h3><i class="fas fa-lightbulb"></i> İpuçları</h3>
        <div id="hint-container">
          <p class="hint-placeholder">İpucu almak için bir görev seçin ve üzerinde çalışmaya başlayın.</p>
          <button id="show-hint" class="btn btn-sm btn-outline-info" disabled><i class="fas fa-eye"></i> İpucu Göster</button>
        </div>
      </div>
      
      <div class="resources-panel">
        <h3><i class="fas fa-book"></i> Kaynaklar</h3>
        <div class="resource-items">
          <a href="#" class="resource-item" data-toggle="modal" data-target="#syntaxModal">
            <i class="fas fa-code"></i>
            <span>Sözdizimi Rehberi</span>
          </a>
          <a href="#" class="resource-item" data-toggle="modal" data-target="#algorithmsModal">
            <i class="fas fa-sitemap"></i>
            <span>Algoritma Temelleri</span>
          </a>
          <a href="#" class="resource-item" data-toggle="modal" data-target="#examplesModal">
            <i class="fas fa-file-code"></i>
            <span>Örnek Çözümler</span>
          </a>
        </div>
      </div>

      <div class="help-panel">
        <h3><i class="fas fa-question-circle"></i> Yardım</h3>
        <p>Takıldığınız noktada yardım alabilirsiniz:</p>
        <button id="show-solution" class="btn btn-sm btn-outline-warning" disabled><i class="fas fa-eye"></i> Çözümü Göster</button>
        <button id="show-explanation" class="btn btn-sm btn-outline-info" disabled><i class="fas fa-info-circle"></i> Açıklamayı Göster</button>
      </div>
    </div>
  </div>
</div>

<!-- Kaynaklar Modalları -->
<div class="modal fade" id="syntaxModal" tabindex="-1" role="dialog" aria-labelledby="syntaxModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="syntaxModalLabel">JavaScript Sözdizimi Rehberi</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Kapat">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <h6>Değişkenler ve Veri Tipleri</h6>
        <pre><code>// Değişken tanımlama
let sayi = 42;
const pi = 3.14159;
let isim = "Ahmet";
let aktif = true;
let dizi = [1, 2, 3, 4, 5];
let nesne = { ad: "Ali", yas: 30 };</code></pre>

        <h6>Fonksiyonlar</h6>
        <pre><code>// Fonksiyon tanımlama
function selamla(isim) {
  return "Merhaba, " + isim + "!";
}

// Ok fonksiyonu
const topla = (a, b) => a + b;</code></pre>

        <h6>Kontrol Yapıları</h6>
        <pre><code>// If-else koşulu
if (skor > 100) {
  console.log("Tebrikler!");
} else if (skor > 50) {
  console.log("İyi iş!");
} else {
  console.log("Tekrar dene!");
}

// Switch yapısı
switch (gun) {
  case "Pazartesi":
    console.log("Haftanın ilk günü");
    break;
  case "Cuma":
    console.log("Haftanın son iş günü");
    break;
  default:
    console.log("Normal bir gün");
}</code></pre>

        <h6>Döngüler</h6>
        <pre><code>// For döngüsü
for (let i = 0; i < 5; i++) {
  console.log(i);
}

// While döngüsü
let j = 0;
while (j < 5) {
  console.log(j);
  j++;
}

// Diziler için for...of döngüsü
const meyveler = ["elma", "armut", "muz"];
for (const meyve of meyveler) {
  console.log(meyve);
}</code></pre>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Kapat</button>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="algorithmsModal" tabindex="-1" role="dialog" aria-labelledby="algorithmsModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="algorithmsModalLabel">Algoritma Temelleri</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Kapat">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <h6>Temel Algoritmalar</h6>
        <p><strong>Sıralama Algoritmaları:</strong></p>
        <ul>
          <li><strong>Kabarcık Sıralama (Bubble Sort):</strong> Komşu elemanları karşılaştırır ve gerektiğinde değiştirir.</li>
          <li><strong>Seçmeli Sıralama (Selection Sort):</strong> En küçük elemanı bulur ve listenin başına koyar.</li>
          <li><strong>Eklemeli Sıralama (Insertion Sort):</strong> Elemanları sıralı bir alt listeye ekler.</li>
        </ul>

        <p><strong>Arama Algoritmaları:</strong></p>
        <ul>
          <li><strong>Doğrusal Arama (Linear Search):</strong> Listedeki her elemanı kontrol eder.</li>
          <li><strong>İkili Arama (Binary Search):</strong> Sıralı bir listede ortadaki elemandan başlayarak arama yapar.</li>
        </ul>

        <p><strong>Problem Çözme Stratejileri:</strong></p>
        <ul>
          <li><strong>Böl ve Fethet (Divide and Conquer):</strong> Problemi daha küçük alt problemlere böler.</li>
          <li><strong>Dinamik Programlama (Dynamic Programming):</strong> Önceki hesaplamaları kaydederek tekrar kullanır.</li>
          <li><strong>Açgözlü Algoritma (Greedy Algorithm):</strong> Her adımda en iyi seçimi yapar.</li>
        </ul>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Kapat</button>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="examplesModal" tabindex="-1" role="dialog" aria-labelledby="examplesModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="examplesModalLabel">Örnek Çözümler</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Kapat">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <h6>Örnek 1: Sayı Toplamı</h6>
        <p><strong>Problem:</strong> 1'den n'e kadar olan sayıların toplamını bulan bir fonksiyon yazın.</p>
        <pre><code>function toplamHesapla(n) {
  let toplam = 0;
  for (let i = 1; i <= n; i++) {
    toplam += i;
  }
  return toplam;

  // Alternatif matematiksel çözüm:
  // return n * (n + 1) / 2;
}</code></pre>

        <h6>Örnek 2: Faktöriyel Hesaplama</h6>
        <p><strong>Problem:</strong> Verilen sayının faktöriyelini hesaplayan bir fonksiyon yazın.</p>
        <pre><code>function faktoriyel(n) {
  if (n === 0 || n === 1) {
    return 1;
  }
  let sonuc = 1;
  for (let i = 2; i <= n; i++) {
    sonuc *= i;
  }
  return sonuc;

  // Alternatif özyinelemeli çözüm:
  // if (n === 0 || n === 1) return 1;
  // return n * faktoriyel(n - 1);
}</code></pre>

        <h6>Örnek 3: Palindrom Kontrolü</h6>
        <p><strong>Problem:</strong> Bir metnin palindrom olup olmadığını kontrol eden bir fonksiyon yazın.</p>
        <pre><code>function palindromMu(metin) {
  // Küçük harf yapma ve boşlukları kaldırma
  const temizMetin = metin.toLowerCase().replace(/[^a-z0-9]/g, '');
  // Ters çevirme ve karşılaştırma
  const tersMetin = temizMetin.split('').reverse().join('');
  return temizMetin === tersMetin;
}</code></pre>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Kapat</button>
      </div>
    </div>
  </div>
</div>
{% endblock %}

{% block extra_css %}
<style>
  /* Oyun Konteyneri */
  .coding-expert-container {
    max-width: 1400px;
    margin: 0 auto;
    padding: 20px 15px;
  }

  /* Oyun Başlığı */
  .game-header {
    text-align: center;
    margin-bottom: 30px;
  }

  .game-header h1 {
    color: #2c3e50;
    font-size: 2.5rem;
    margin-bottom: 10px;
    position: relative;
    display: inline-block;
  }

  .version-badge {
    font-size: 0.9rem;
    background-color: #3498db;
    color: white;
    padding: 3px 8px;
    border-radius: 10px;
    position: absolute;
    top: 0;
    right: -50px;
    font-weight: normal;
  }

  .game-description {
    color: #7f8c8d;
    font-size: 1.1rem;
    max-width: 800px;
    margin: 0 auto;
  }

  /* Ana Dashboard */
  .coding-dashboard {
    display: grid;
    grid-template-columns: 250px 1fr 250px;
    gap: 20px;
    background-color: #f8f9fa;
    border-radius: 12px;
    box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
    overflow: hidden;
    min-height: 700px;
  }

  @media (max-width: 1200px) {
    .coding-dashboard {
      grid-template-columns: 220px 1fr;
    }
    .coding-help-panel {
      display: none;
    }
  }

  @media (max-width: 992px) {
    .coding-dashboard {
      grid-template-columns: 1fr;
    }
    .coding-sidebar {
      display: none;
    }
  }

  /* Sol Panel */
  .coding-sidebar {
    background-color: #2c3e50;
    color: white;
    padding: 20px;
    display: flex;
    flex-direction: column;
  }

  .level-selection {
    margin-bottom: 20px;
  }

  .level-selection h3,
  .tasks-panel h3,
  .stats-panel h3 {
    font-size: 1.2rem;
    margin-bottom: 15px;
    padding-bottom: 10px;
    border-bottom: 1px solid rgba(255, 255, 255, 0.2);
    display: flex;
    align-items: center;
    gap: 8px;
  }

  #difficulty-levels {
    list-style: none;
    padding: 0;
    margin: 0;
  }

  #difficulty-levels li {
    padding: 10px 15px;
    border-radius: 6px;
    margin-bottom: 8px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: space-between;
    transition: all 0.2s ease;
    background-color: rgba(255, 255, 255, 0.05);
  }

  #difficulty-levels li:hover {
    background-color: rgba(255, 255, 255, 0.1);
  }

  #difficulty-levels li.active {
    background-color: rgba(52, 152, 219, 0.3);
    border-left: 4px solid #3498db;
  }

  .level-icon {
    width: 24px;
    text-align: center;
    margin-right: 10px;
  }

  .level-name {
    flex-grow: 1;
  }

  .badge-count {
    background-color: rgba(255, 255, 255, 0.2);
    padding: 2px 8px;
    border-radius: 10px;
    font-size: 0.75rem;
  }

  .tasks-panel {
    flex-grow: 1;
    margin-bottom: 20px;
    overflow-y: auto;
  }

  #tasks-container {
    display: flex;
    flex-direction: column;
    gap: 8px;
  }

  .task-item {
    padding: 12px 15px;
    background-color: rgba(255, 255, 255, 0.05);
    border-radius: 6px;
    cursor: pointer;
    transition: all 0.2s ease;
    display: flex;
    align-items: center;
    gap: 10px;
  }

  .task-item:hover {
    background-color: rgba(255, 255, 255, 0.1);
  }

  .task-item.active {
    background-color: rgba(46, 204, 113, 0.2);
    border-left: 4px solid #2ecc71;
  }

  .task-status {
    font-size: 1rem;
    width: 20px;
    height: 20px;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .task-title {
    flex-grow: 1;
    font-size: 0.9rem;
  }

  .task-completed {
    color: #2ecc71;
  }

  .stats-panel {
    background-color: rgba(0, 0, 0, 0.2);
    padding: 15px;
    border-radius: 8px;
  }

  .stat-item {
    display: flex;
    justify-content: space-between;
    padding: 8px 0;
    font-size: 0.85rem;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
  }

  .stat-item:last-child {
    border-bottom: none;
  }

  .stat-value {
    font-weight: bold;
    color: #3498db;
  }

  /* Orta Panel */
  .coding-main-panel {
    display: flex;
    flex-direction: column;
    gap: 20px;
    padding: 20px;
    background-color: white;
  }

  .task-description-panel {
    background-color: white;
    border-radius: 8px;
    padding: 20px;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
  }

  .task-description-panel h3 {
    font-size: 1.3rem;
    color: #2c3e50;
    margin-bottom: 15px;
    padding-bottom: 10px;
    border-bottom: 1px solid #eee;
  }

  #task-description {
    color: #5d6778;
    line-height: 1.6;
  }

  #task-description ol,
  #task-description ul {
    padding-left: 20px;
  }

  #task-description li {
    margin-bottom: 8px;
  }

  .editor-panel {
    display: flex;
    flex-direction: column;
    background-color: #282c34;
    border-radius: 8px;
    overflow: hidden;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    flex-grow: 1;
    min-height: 300px;
  }

  .editor-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 10px 15px;
    background-color: #21252b;
    color: #abb2bf;
    border-bottom: 1px solid #181a1f;
  }

  .editor-title {
    font-weight: bold;
  }

  .editor-controls {
    display: flex;
    gap: 10px;
  }

  #code-editor {
    height: 300px;
    width: 100%;
    font-family: 'Fira Code', 'Courier New', monospace;
    font-size: 14px;
    line-height: 1.5;
    color: #abb2bf;
    padding: 10px;
    background-color: #282c34;
    border: none;
    resize: none;
    overflow: auto;
  }

  .output-panel {
    display: flex;
    flex-direction: column;
    background-color: #f8f9fa;
    border-radius: 8px;
    overflow: hidden;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
    min-height: 150px;
  }

  .output-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 10px 15px;
    background-color: #e9ecef;
    border-bottom: 1px solid #dee2e6;
  }

  .output-title {
    font-weight: bold;
    color: #495057;
  }

  #output-container {
    padding: 15px;
    color: #495057;
    background-color: white;
    min-height: 150px;
    overflow: auto;
  }

  .output-placeholder {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 120px;
    color: #adb5bd;
    text-align: center;
  }

  .output-placeholder i {
    font-size: 2rem;
    margin-bottom: 10px;
  }

  /* Sağ Panel */
  .coding-help-panel {
    background-color: #ecf0f1;
    padding: 20px;
    display: flex;
    flex-direction: column;
    gap: 20px;
  }

  .hint-panel, 
  .resources-panel,
  .help-panel {
    background-color: white;
    border-radius: 8px;
    padding: 15px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
  }

  .hint-panel h3,
  .resources-panel h3,
  .help-panel h3 {
    font-size: 1.1rem;
    color: #2c3e50;
    margin-bottom: 15px;
    display: flex;
    align-items: center;
    gap: 8px;
  }

  #hint-container {
    color: #5d6778;
  }

  .hint-placeholder {
    color: #95a5a6;
    font-style: italic;
    margin-bottom: 10px;
  }

  .resource-items {
    display: flex;
    flex-direction: column;
    gap: 10px;
  }

  .resource-item {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 10px;
    background-color: #f8f9fa;
    border-radius: 6px;
    color: #2c3e50;
    text-decoration: none;
    transition: all 0.2s ease;
  }

  .resource-item:hover {
    background-color: #e9ecef;
    text-decoration: none;
  }

  .resource-item i {
    color: #3498db;
  }

  .help-panel p {
    color: #5d6778;
    margin-bottom: 15px;
  }

  .help-panel button {
    width: 100%;
    margin-bottom: 10px;
  }

  /* Butonlar */
  .btn {
    border-radius: 6px;
    font-weight: 600;
    transition: all 0.2s ease;
  }

  .btn-primary {
    background-color: #3498db;
    border-color: #3498db;
  }

  .btn-primary:hover {
    background-color: #2980b9;
    border-color: #2980b9;
  }

  .btn-secondary {
    background-color: #95a5a6;
    border-color: #95a5a6;
  }

  .btn-secondary:hover {
    background-color: #7f8c8d;
    border-color: #7f8c8d;
  }

  .btn-outline-info {
    color: #3498db;
    border-color: #3498db;
  }

  .btn-outline-info:hover {
    background-color: #3498db;
    color: white;
  }

  .btn-outline-warning {
    color: #f39c12;
    border-color: #f39c12;
  }

  .btn-outline-warning:hover {
    background-color: #f39c12;
    color: white;
  }

  /* Modal Stilleri */
  .modal-content {
    border-radius: 12px;
    border: none;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
  }

  .modal-header {
    background-color: #f8f9fa;
    border-bottom: 1px solid #e9ecef;
  }

  .modal-title {
    color: #2c3e50;
    font-weight: 600;
  }

  .modal-body h6 {
    color: #3498db;
    margin-top: 20px;
    margin-bottom: 10px;
    font-weight: 600;
  }

  .modal-body pre {
    background-color: #f8f9fa;
    padding: 15px;
    border-radius: 6px;
    border-left: 4px solid #3498db;
    margin-bottom: 20px;
  }

  .modal-body code {
    color: #2c3e50;
  }

  .modal-footer {
    border-top: 1px solid #e9ecef;
  }
</style>
{% endblock %}

{% block extra_js %}
<script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.12/ace.js"></script>
<script>
  document.addEventListener('DOMContentLoaded', function() {
    // Kod editörünü başlat
    const editor = ace.edit("code-editor");
    editor.setTheme("ace/theme/monokai");
    editor.session.setMode("ace/mode/javascript");
    editor.setOptions({
      fontSize: "14px",
      showPrintMargin: false,
      enableBasicAutocompletion: true,
      enableLiveAutocompletion: true
    });

    // Görev verilerini tanımla
    const tasks = {
      beginner: [
        {
          id: 'b1',
          title: 'Merhaba Dünya!',
          description: '<p>Programlamaya başlamanın klasik ilk adımı: "Merhaba, Dünya!" yazdıran bir program yazın.</p><p><strong>Göreviniz:</strong> <code>console.log()</code> fonksiyonunu kullanarak ekrana "Merhaba, Dünya!" yazdırın.</p>',
          initialCode: '// Merhaba Dünya yazdırın\n',
          solution: 'console.log("Merhaba, Dünya!");',
          hint: 'JavaScript\'te console.log() fonksiyonu, konsola metin yazdırmak için kullanılır. Metinler tırnak içinde yazılmalıdır.',
          explanation: 'Bu görevde temel konsol çıktısı almayı öğrendiniz. console.log() fonksiyonu, hata ayıklama ve değerleri görüntülemek için sıkça kullanılır.'
        },
        {
          id: 'b2',
          title: 'Değişken Oluşturma',
          description: '<p>Değişkenler, veri saklamak için kullanılan bellek alanlarıdır.</p><p><strong>Göreviniz:</strong> <code>isim</code> adında bir değişken oluşturun ve değer olarak kendi isminizi atayın. Sonra bu değişkeni konsola yazdırın.</p>',
          initialCode: '// İsim değişkeni oluşturun ve konsola yazdırın\n',
          solution: 'let isim = "Ahmet";\nconsole.log(isim);',
          hint: 'JavaScript\'te değişken tanımlamak için "let" veya "const" kullanabilirsiniz. let isim = "değer"; şeklinde tanımlayabilirsiniz.',
          explanation: 'Bu görevde değişken oluşturmayı ve değişken değerini konsola yazdırmayı öğrendiniz. JavaScript\'te değişkenler let, const veya var ile tanımlanabilir.'
        },
        {
          id: 'b3',
          title: 'Toplama İşlemi',
          description: '<p>Matematiksel işlemler programlamanın temel taşlarıdır.</p><p><strong>Göreviniz:</strong> İki sayıyı toplayan ve sonucu konsola yazdıran bir fonksiyon yazın.</p>',
          initialCode: '// İki sayıyı toplayan bir fonksiyon yazın\nfunction topla(a, b) {\n  // Kodunuzu buraya yazın\n}\n\n// Test\nconsole.log(topla(5, 3)); // 8 yazdırmalı',
          solution: 'function topla(a, b) {\n  return a + b;\n}\n\n// Test\nconsole.log(topla(5, 3));',
          hint: 'Fonksiyon içinde "return" anahtar kelimesi ile sonucu döndürmelisiniz. İki sayının toplamı için + operatörünü kullanın.',
          explanation: 'Bu görevde basit bir fonksiyon oluşturmayı ve değer döndürmeyi öğrendiniz. "return" ifadesi fonksiyondan değer döndürmek için kullanılır.'
        },
        {
          id: 'b4',
          title: 'Koşullu İfadeler',
          description: '<p>Koşullu ifadeler, farklı durumlar için farklı davranışlar belirlememizi sağlar.</p><p><strong>Göreviniz:</strong> Bir sayının pozitif, negatif veya sıfır olduğunu kontrol eden ve sonucu konsola yazdıran bir fonksiyon yazın.</p>',
          initialCode: '// Sayının pozitif, negatif veya sıfır olduğunu kontrol eden fonksiyon\nfunction sayiKontrol(sayi) {\n  // Kodunuzu buraya yazın\n}\n\n// Test\nsayiKontrol(5);  // "Pozitif" yazdırmalı\nsayiKontrol(-3); // "Negatif" yazdırmalı\nsayiKontrol(0);  // "Sıfır" yazdırmalı',
          solution: 'function sayiKontrol(sayi) {\n  if (sayi > 0) {\n    console.log("Pozitif");\n  } else if (sayi < 0) {\n    console.log("Negatif");\n  } else {\n    console.log("Sıfır");\n  }\n}\n\n// Test\nsayiKontrol(5);\nsayiKontrol(-3);\nsayiKontrol(0);',
          hint: 'Koşulları kontrol etmek için "if", "else if" ve "else" yapılarını kullanın. Sayının 0\'dan büyük olup olmadığını, küçük olup olmadığını kontrol edin.',
          explanation: 'Bu görevde koşullu ifadeleri (if-else) kullanmayı öğrendiniz. Bu yapılar, koşullara bağlı olarak farklı kod bloklarını çalıştırmak için kullanılır.'
        },
        {
          id: 'b5',
          title: 'Döngüler',
          description: '<p>Döngüler, belirli bir işlemi tekrar tekrar gerçekleştirmek için kullanılır.</p><p><strong>Göreviniz:</strong> 1\'den 10\'a kadar olan sayıları konsola yazdıran bir döngü yazın.</p>',
          initialCode: '// 1\'den 10\'a kadar yazdıran döngü\n',
          solution: 'for (let i = 1; i <= 10; i++) {\n  console.log(i);\n}',
          hint: 'JavaScript\'te tekrarlanan işlemler için "for" döngüsü kullanabilirsiniz. Döngü değişkenini 1\'den başlatıp 10\'a kadar artırın.',
          explanation: 'Bu görevde for döngüsünü kullanmayı öğrendiniz. For döngüsü, belirli bir kod bloğunu belirli bir sayıda tekrarlamak için kullanılır.'
        }
      ],
      easy: [
        {
          id: 'e1',
          title: 'Dizi Elemanları Toplamı',
          description: '<p>Diziler (arrays), birden fazla değeri tek bir değişkende saklamanızı sağlar.</p><p><strong>Göreviniz:</strong> Bir sayı dizisindeki tüm elemanların toplamını bulan bir fonksiyon yazın.</p>',
          initialCode: '// Dizi elemanlarını toplayan fonksiyon\nfunction diziTopla(dizi) {\n  // Kodunuzu buraya yazın\n}\n\n// Test\nconsole.log(diziTopla([1, 2, 3, 4, 5])); // 15 yazdırmalı\nconsole.log(diziTopla([10, 20, 30])); // 60 yazdırmalı',
          solution: 'function diziTopla(dizi) {\n  let toplam = 0;\n  for (let i = 0; i < dizi.length; i++) {\n    toplam += dizi[i];\n  }\n  return toplam;\n}\n\n// Test\nconsole.log(diziTopla([1, 2, 3, 4, 5]));\nconsole.log(diziTopla([10, 20, 30]));',
          hint: 'Bir değişkende toplam değerini saklayın ve döngü ile dizi elemanlarını bu değişkene ekleyin. Dizinin eleman sayısına dizi.length ile erişebilirsiniz.',
          explanation: 'Bu görevde dizi elemanlarını toplamak için döngü kullanmayı öğrendiniz. Ayrıca, dizi.length özelliği ile dizinin boyutuna erişmeyi ve döngü içinde dizi elemanlarını işlemeyi uyguladınız.'
        },
        {
          id: 'e2',
          title: 'En Büyük Sayıyı Bulma',
          description: '<p>Bir dizi içindeki en büyük değeri bulma, algoritma problemlerinde sıkça karşılaştığımız bir işlemdir.</p><p><strong>Göreviniz:</strong> Bir sayı dizisindeki en büyük sayıyı bulan bir fonksiyon yazın.</p>',
          initialCode: '// En büyük sayıyı bulan fonksiyon\nfunction enBuyukSayi(dizi) {\n  // Kodunuzu buraya yazın\n}\n\n// Test\nconsole.log(enBuyukSayi([5, 9, 3, 1, 7])); // 9 yazdırmalı\nconsole.log(enBuyukSayi([20, 15, 30, 25])); // 30 yazdırmalı',
          solution: 'function enBuyukSayi(dizi) {\n  let enBuyuk = dizi[0];\n  for (let i = 1; i < dizi.length; i++) {\n    if (dizi[i] > enBuyuk) {\n      enBuyuk = dizi[i];\n    }\n  }\n  return enBuyuk;\n}\n\n// Test\nconsole.log(enBuyukSayi([5, 9, 3, 1, 7]));\nconsole.log(enBuyukSayi([20, 15, 30, 25]));',
          hint: 'İlk elemanı en büyük değer olarak kabul edip, diziyi dolaşarak daha büyük bir eleman bulursanız en büyük değeri güncelleyin.',
          explanation: 'Bu görevde bir dizideki en büyük değeri bulma algoritmasını uyguladınız. Bu tür karşılaştırma algoritmaları veri analizi ve sıralama işlemlerinde temel yapı taşlarıdır.'
        },
        {
          id: 'e3',
          title: 'Kelime Tersten Yazma',
          description: '<p>Metin işleme, programlama dünyasında önemli bir yere sahiptir.</p><p><strong>Göreviniz:</strong> Verilen bir kelimeyi tersten yazan bir fonksiyon yazın.</p>',
          initialCode: '// Kelimeyi tersten yazan fonksiyon\nfunction terstenYaz(kelime) {\n  // Kodunuzu buraya yazın\n}\n\n// Test\nconsole.log(terstenYaz("merhaba")); // "abahrem" yazdırmalı\nconsole.log(terstenYaz("javascript")); // "tpircsavaj" yazdırmalı',
          solution: 'function terstenYaz(kelime) {\n  let ters = "";\n  for (let i = kelime.length - 1; i >= 0; i--) {\n    ters += kelime[i];\n  }\n  return ters;\n}\n\n// Test\nconsole.log(terstenYaz("merhaba"));\nconsole.log(terstenYaz("javascript"));',
          hint: 'Kelimenin son karakterinden başlayarak ilk karakterine doğru ilerleyen bir döngü kullanın ve her karakteri yeni bir string\'e ekleyin.',
          explanation: 'Bu görevde string manipülasyonu yaparak bir metni ters çevirmeyi öğrendiniz. JavaScript\'te string\'ler karakter dizileri gibi indekslenebilir ve döngü ile işlenebilir.'
        },
        {
          id: 'e4',
          title: 'Çift Sayıları Filtreleme',
          description: '<p>Veri filtreleme, belirli kriterlere uyan elemanları seçme işlemidir.</p><p><strong>Göreviniz:</strong> Bir dizi içindeki çift sayıları filtreleyerek yeni bir dizi oluşturan bir fonksiyon yazın.</p>',
          initialCode: '// Çift sayıları filtreleyen fonksiyon\nfunction ciftSayilariFiltrele(dizi) {\n  // Kodunuzu buraya yazın\n}\n\n// Test\nconsole.log(ciftSayilariFiltrele([1, 2, 3, 4, 5, 6])); // [2, 4, 6] yazdırmalı\nconsole.log(ciftSayilariFiltrele([11, 15, 20, 25, 30])); // [20, 30] yazdırmalı',
          solution: 'function ciftSayilariFiltrele(dizi) {\n  let ciftSayilar = [];\n  for (let i = 0; i < dizi.length; i++) {\n    if (dizi[i] % 2 === 0) {\n      ciftSayilar.push(dizi[i]);\n    }\n  }\n  return ciftSayilar;\n}\n\n// Test\nconsole.log(ciftSayilariFiltrele([1, 2, 3, 4, 5, 6]));\nconsole.log(ciftSayilariFiltrele([11, 15, 20, 25, 30]));',
          hint: 'Yeni bir boş dizi oluşturun ve orijinal diziyi döngü ile dolaşarak, her elemanın 2\'ye bölümünden kalan 0 ise (çift sayı) bu elemanı yeni diziye ekleyin.',
          explanation: 'Bu görevde koşullu ifadeler ve dizi işlemleri birleştirilerek veri filtreleme işlemi yapıldı. % operatörü (mod) bir sayının başka bir sayıya bölümünden kalanı verir.'
        },
        {
          id: 'e5',
          title: 'Faktöriyel Hesaplama',
          description: '<p>Faktöriyel, matematiksel bir işlemdir ve n! ile gösterilir. n! = n × (n-1) × (n-2) × ... × 2 × 1 şeklinde hesaplanır.</p><p><strong>Göreviniz:</strong> Verilen bir sayının faktöriyelini hesaplayan bir fonksiyon yazın.</p>',
          initialCode: '// Faktöriyel hesaplayan fonksiyon\nfunction faktoriyel(n) {\n  // Kodunuzu buraya yazın\n}\n\n// Test\nconsole.log(faktoriyel(5)); // 120 yazdırmalı (5! = 5*4*3*2*1)\nconsole.log(faktoriyel(0)); // 1 yazdırmalı (0! = 1)',
          solution: 'function faktoriyel(n) {\n  if (n === 0 || n === 1) {\n    return 1;\n  }\n  let sonuc = 1;\n  for (let i = 2; i <= n; i++) {\n    sonuc *= i;\n  }\n  return sonuc;\n}\n\n// Test\nconsole.log(faktoriyel(5));\nconsole.log(faktoriyel(0));',
          hint: '0! ve 1! değerleri 1\'dir. Diğer durumlarda 1\'den başlayıp sayının kendisine kadar olan tüm sayıları çarpmanız gerekir.',
          explanation: 'Bu görevde matematiksel bir işlem olan faktöriyel hesaplamasını programlamayı öğrendiniz. Bu tür hesaplamalar, kombinasyon ve permütasyon gibi daha karmaşık matematiksel işlemler için temel oluşturur.'
        }
      ],
      medium: [
        {
          id: 'm1',
          title: 'Kelime Sayacı',
          description: '<p>Metin analizi yaparken, bir metindeki kelimeleri saymak sık ihtiyaç duyulan bir işlemdir.</p><p><strong>Göreviniz:</strong> Bir metindeki kelimelerin sayısını hesaplayan bir fonksiyon yazın. Kelimeler boşluklarla ayrılmıştır.</p>',
          initialCode: '// Kelime sayacı fonksiyonu\nfunction kelimeSay(metin) {\n  // Kodunuzu buraya yazın\n}\n\n// Test\nconsole.log(kelimeSay("Merhaba dünya")); // 2 yazdırmalı\nconsole.log(kelimeSay("JavaScript programlama dili öğreniyorum")); // 4 yazdırmalı',
          solution: 'function kelimeSay(metin) {\n  if (metin.trim() === "") {\n    return 0;\n  }\n  return metin.trim().split(" ").length;\n}\n\n// Test\nconsole.log(kelimeSay("Merhaba dünya"));\nconsole.log(kelimeSay("JavaScript programlama dili öğreniyorum"));',
          hint: 'String\'in split() metodunu kullanarak metni boşluklara göre parçalayabilir ve oluşan dizinin uzunluğunu alabilirsiniz. Boş metinleri kontrol etmeyi unutmayın.',
          explanation: 'Bu görevde string manipülasyonu ve split() metodunu kullanarak bir metni kelimelere ayırmayı öğrendiniz. Ayrıca, trim() metoduyla baştaki ve sondaki boşlukları temizleyerek daha doğru sonuçlar elde ettiniz.'
        },
        {
          id: 'm2',
          title: 'Palindrom Kontrolü',
          description: '<p>Palindrom, tersten okunduğunda da aynı olan kelime, sayı veya cümledir. Örneğin "kayak", "1221" birer palindromdur.</p><p><strong>Göreviniz:</strong> Bir metnin palindrom olup olmadığını kontrol eden bir fonksiyon yazın.</p>',
          initialCode: '// Palindrom kontrolü fonksiyonu\nfunction palindromMu(metin) {\n  // Kodunuzu buraya yazın\n}\n\n// Test\nconsole.log(palindromMu("kayak")); // true yazdırmalı\nconsole.log(palindromMu("merhaba")); // false yazdırmalı',
          solution: 'function palindromMu(metin) {\n  // Küçük harfe çevir ve boşlukları kaldır\n  let temizMetin = metin.toLowerCase().replace(/\\s/g, "");\n  // Tersi ile karşılaştır\n  let tersMetin = temizMetin.split("").reverse().join("");\n  return temizMetin === tersMetin;\n}\n\n// Test\nconsole.log(palindromMu("kayak"));\nconsole.log(palindromMu("merhaba"));',
          hint: 'İlk önce metni küçük harfe çevirin ve boşlukları kaldırın. Sonra metni ters çevirip, orijinal metin ile karşılaştırın.',
          explanation: 'Bu görevde string manipülasyonu ve karşılaştırma işlemleri yaparak palindrom kontrolü gerçekleştirdiniz. JavaScript\'te string\'i ters çevirmek için split(), reverse() ve join() metotları birlikte kullanılır.'
        },
        {
          id: 'm3',
          title: 'Anagram Kontrolü',
          description: '<p>Anagram, bir kelimedeki harflerin yerlerinin değiştirilmesiyle oluşturulan yeni kelimedir. Örneğin "dinle" ve "liden" birer anagramdır.</p><p><strong>Göreviniz:</strong> İki kelimenin anagram olup olmadığını kontrol eden bir fonksiyon yazın.</p>',
          initialCode: '// Anagram kontrolü fonksiyonu\nfunction anagramMi(kelime1, kelime2) {\n  // Kodunuzu buraya yazın\n}\n\n// Test\nconsole.log(anagramMi("dinle", "liden")); // true yazdırmalı\nconsole.log(anagramMi("merhaba", "ahberim")); // false yazdırmalı',
          solution: 'function anagramMi(kelime1, kelime2) {\n  // Küçük harfe çevir ve boşlukları kaldır\n  let temizKelime1 = kelime1.toLowerCase().replace(/\\s/g, "");\n  let temizKelime2 = kelime2.toLowerCase().replace(/\\s/g, "");\n  \n  // Uzunlukları farklıysa anagram değildir\n  if (temizKelime1.length !== temizKelime2.length) {\n    return false;\n  }\n  \n  // Harfleri sırala ve karşılaştır\n  let siraliKelime1 = temizKelime1.split("").sort().join("");\n  let siraliKelime2 = temizKelime2.split("").sort().join("");\n  \n  return siraliKelime1 === siraliKelime2;\n}\n\n// Test\nconsole.log(anagramMi("dinle", "liden"));\nconsole.log(anagramMi("merhaba", "ahberim"));',
          hint: 'Her iki kelimeyi de aynı formata getirin (küçük harf, boşluksuz). Sonra her iki kelimenin harflerini alfabetik olarak sıralayın ve karşılaştırın.',
          explanation: 'Bu görevde string manipülasyonu yaparak iki kelimenin anagram olup olmadığını kontrol ettiniz. Anagram kontrolü için, kelimelerin harflerini sıralayıp karşılaştırmak etkili bir yöntemdir.'
        },
        {
          id: 'm4',
          title: 'Asal Sayı Kontrolü',
          description: '<p>Asal sayı, sadece 1\'e ve kendisine bölünebilen 1\'den büyük tam sayılardır.</p><p><strong>Göreviniz:</strong> Bir sayının asal olup olmadığını kontrol eden bir fonksiyon yazın.</p>',
          initialCode: '// Asal sayı kontrolü fonksiyonu\nfunction asalMi(sayi) {\n  // Kodunuzu buraya yazın\n}\n\n// Test\nconsole.log(asalMi(7)); // true yazdırmalı\nconsole.log(asalMi(10)); // false yazdırmalı',
          solution: 'function asalMi(sayi) {\n  // 1 ve negatif sayılar asal değildir\n  if (sayi <= 1) {\n    return false;\n  }\n  \n  // 2 ve 3 asaldır\n  if (sayi <= 3) {\n    return true;\n  }\n  \n  // 2 veya 3\'e bölünüyorsa asal değildir\n  if (sayi % 2 === 0 || sayi % 3 === 0) {\n    return false;\n  }\n  \n  // 5\'ten başlayarak 6k±1 formundaki sayıları kontrol et\n  for (let i = 5; i * i <= sayi; i += 6) {\n    if (sayi % i === 0 || sayi % (i + 2) === 0) {\n      return false;\n    }\n  }\n  \n  return true;\n}\n\n// Test\nconsole.log(asalMi(7));\nconsole.log(asalMi(10));',
          hint: 'Bir sayının asal olup olmadığını kontrol etmek için, o sayıyı 2\'den karekökünə kadar olan sayılara bölmeyi deneyin. Eğer tam bölünürse, asal değildir.',
          explanation: 'Bu görevde asal sayı kontrolü algoritmasını uyguladınız. Bu algoritma, sayının karekökünden büyük olan bölenlerini kontrol etmeye gerek olmadığı matematiksel gerçeğinden yararlanarak optimizasyon sağlar.'
        },
        {
          id: 'm5',
          title: 'FizzBuzz Problemi',
          description: '<p>FizzBuzz, programlama mülakatlarında sıkça sorulan klasik bir problemdir.</p><p><strong>Göreviniz:</strong> 1\'den n\'e kadar olan sayılar için:<br>- Eğer sayı 3\'e bölünüyorsa "Fizz" yazdırın<br>- Eğer sayı 5\'e bölünüyorsa "Buzz" yazdırın<br>- Eğer sayı hem 3\'e hem de 5\'e bölünüyorsa "FizzBuzz" yazdırın<br>- Hiçbirine uymuyorsa sayının kendisini yazdırın</p>',
          initialCode: '// FizzBuzz problemi çözümü\nfunction fizzBuzz(n) {\n  // Kodunuzu buraya yazın\n}\n\n// Test\nfizzBuzz(15);',
          solution: 'function fizzBuzz(n) {\n  for (let i = 1; i <= n; i++) {\n    if (i % 3 === 0 && i % 5 === 0) {\n      console.log("FizzBuzz");\n    } else if (i % 3 === 0) {\n      console.log("Fizz");\n    } else if (i % 5 === 0) {\n      console.log("Buzz");\n    } else {\n      console.log(i);\n    }\n  }\n}\n\n// Test\nfizzBuzz(15);',
          hint: 'Her sayı için önce hem 3\'e hem 5\'e bölünüp bölünmediğini kontrol edin. Sonra sırasıyla 3\'e ve 5\'e bölünme durumlarını kontrol edin.',
          explanation: 'Bu görevde koşullu ifadeleri ve döngüleri kullanarak klasik FizzBuzz problemini çözdünüz. Bu problem, temel programlama mantığını ve koşulların sırasının önemini test etmek için kullanılır.'
        }
      ],
      hard: [
        {
          id: 'h1',
          title: 'Metindeki En Sık Kelimeyi Bulma',
          description: '<p>Metin analizi yapan uygulamalarda, en sık geçen kelimeleri bulmak önemli bir işlemdir.</p><p><strong>Göreviniz:</strong> Bir metinde en sık geçen kelimeyi bulan bir fonksiyon yazın. Kelimeler arasında boşluk, nokta, virgül gibi ayraçlar olabilir.</p>',
          initialCode: '// En sık geçen kelimeyi bulan fonksiyon\nfunction enSikKelime(metin) {\n  // Kodunuzu buraya yazın\n}\n\n// Test\nconsole.log(enSikKelime("merhaba dünya merhaba javascript dünya merhaba")); // "merhaba" yazdırmalı\nconsole.log(enSikKelime("bu bir test, bu test önemli bir test")); // "test" yazdırmalı',
          solution: 'function enSikKelime(metin) {\n  // Metindeki özel karakterleri temizle ve küçük harfe çevir\n  const temizMetin = metin.toLowerCase().replace(/[^\\w\\s]/g, "");\n  \n  // Kelimeleri ayır\n  const kelimeler = temizMetin.split(/\\s+/);\n  \n  // Kelime frekanslarını hesapla\n  const frekanslar = {};\n  let enSikKelimeDegeri = "";\n  let enYuksekFrekans = 0;\n  \n  for (const kelime of kelimeler) {\n    if (kelime === "") continue;\n    \n    frekanslar[kelime] = (frekanslar[kelime] || 0) + 1;\n    \n    if (frekanslar[kelime] > enYuksekFrekans) {\n      enYuksekFrekans = frekanslar[kelime];\n      enSikKelimeDegeri = kelime;\n    }\n  }\n  \n  return enSikKelimeDegeri;\n}\n\n// Test\nconsole.log(enSikKelime("merhaba dünya merhaba javascript dünya merhaba"));\nconsole.log(enSikKelime("bu bir test, bu test önemli bir test"));',
          hint: 'İlk önce metni küçük harfe çevirin ve özel karakterleri temizleyin. Sonra kelimeleri bir diziye ayırın. Her kelime için bir sayaç tutarak en yüksek frekansa sahip kelimeyi bulun.',
          explanation: 'Bu görevde metni temizleme, kelimelere ayırma ve frekans analizi yapma işlemlerini öğrendiniz. Bu tür metin işleme teknikleri, doğal dil işleme ve veri analizinde sıkça kullanılır.'
        },
        {
          id: 'h2',
          title: 'Kayan Pencere Tekniği ile Maksimum Toplam',
          description: '<p>Kayan pencere tekniği, dizi işlemlerinde sıkça kullanılan bir algoritmadır.</p><p><strong>Göreviniz:</strong> Bir sayı dizisinde ardışık k elemanın maksimum toplamını bulan bir fonksiyon yazın.</p>',
          initialCode: '// Kayan pencere tekniği ile maksimum toplam bulan fonksiyon\nfunction maksimumArdisikToplam(dizi, k) {\n  // Kodunuzu buraya yazın\n}\n\n// Test\nconsole.log(maksimumArdisikToplam([1, 4, 2, 10, 2, 3, 1, 0, 20], 4)); // 24 yazdırmalı (2+10+2+10)\nconsole.log(maksimumArdisikToplam([1, 4, 2, 10, 23, 3, 1, 0, 20], 4)); // 39 yazdırmalı (4+2+10+23)',
          solution: 'function maksimumArdisikToplam(dizi, k) {\n  if (k > dizi.length) {\n    return null; // Geçersiz giriş\n  }\n  \n  // İlk k elemanın toplamını hesapla\n  let toplam = 0;\n  for (let i = 0; i < k; i++) {\n    toplam += dizi[i];\n  }\n  \n  let maksimumToplam = toplam;\n  \n  // Kayan pencere tekniği kullanarak diğer toplamları hesapla\n  for (let i = k; i < dizi.length; i++) {\n    toplam = toplam - dizi[i - k] + dizi[i];\n    maksimumToplam = Math.max(maksimumToplam, toplam);\n  }\n  \n  return maksimumToplam;\n}\n\n// Test\nconsole.log(maksimumArdisikToplam([1, 4, 2, 10, 2, 3, 1, 0, 20], 4));\nconsole.log(maksimumArdisikToplam([1, 4, 2, 10, 23, 3, 1, 0, 20], 4));',
          hint: 'İlk k elemanın toplamını hesaplayın. Sonra, her adımda pencereyi bir eleman sağa kaydırın (en soldaki elemanı çıkarıp, en sağa yeni elemanı ekleyin) ve maksimum toplamı güncelleyin.',
          explanation: 'Bu görevde kayan pencere algoritmasını uyguladınız. Bu algoritma, O(n) zaman karmaşıklığı ile çalışarak, her pencere için toplamı baştan hesaplamak yerine mevcut toplamı günceller.'
        },
        {
          id: 'h3',
          title: 'Birleştirme Sıralaması (Merge Sort)',
          description: '<p>Birleştirme sıralaması (Merge Sort), böl ve fethet stratejisini kullanan etkili bir sıralama algoritmasıdır.</p><p><strong>Göreviniz:</strong> Birleştirme sıralaması algoritmasını kullanarak bir sayı dizisini küçükten büyüğe sıralayan bir fonksiyon yazın.</p>',
          initialCode: '// Birleştirme Sıralaması (Merge Sort) fonksiyonu\nfunction mergeSort(dizi) {\n  // Kodunuzu buraya yazın\n}\n\n// Test\nconsole.log(mergeSort([38, 27, 43, 3, 9, 82, 10])); // [3, 9, 10, 27, 38, 43, 82] yazdırmalı',
          solution: 'function mergeSort(dizi) {\n  // Temel durum: Dizi 1 veya daha az elemana sahipse\n  if (dizi.length <= 1) {\n    return dizi;\n  }\n  \n  // Diziyi ikiye böl\n  const orta = Math.floor(dizi.length / 2);\n  const solYari = dizi.slice(0, orta);\n  const sagYari = dizi.slice(orta);\n  \n  // Böl ve fethet stratejisi: Yarıları sırala ve birleştir\n  return birlestir(mergeSort(solYari), mergeSort(sagYari));\n}\n\n// İki sıralı diziyi birleştiren yardımcı fonksiyon\nfunction birlestir(sol, sag) {\n  let sonuc = [];\n  let solIndeks = 0;\n  let sagIndeks = 0;\n  \n  // Her iki dizideki elemanları karşılaştır ve küçük olanı sonuca ekle\n  while (solIndeks < sol.length && sagIndeks < sag.length) {\n    if (sol[solIndeks] < sag[sagIndeks]) {\n      sonuc.push(sol[solIndeks]);\n      solIndeks++;\n    } else {\n      sonuc.push(sag[sagIndeks]);\n      sagIndeks++;\n    }\n  }\n  \n  // Kalan elemanları ekle\n  return sonuc\n    .concat(sol.slice(solIndeks))\n    .concat(sag.slice(sagIndeks));\n}\n\n// Test\nconsole.log(mergeSort([38, 27, 43, 3, 9, 82, 10]));',
          hint: 'Böl ve fethet stratejisini kullanın. Diziyi ikiye bölün, her iki yarıyı ayrı ayrı sıralayın ve sonra birleştirin. Birleştirme işlemi için ayrı bir fonksiyon yazabilirsiniz.',
          explanation: 'Bu görevde böl ve fethet stratejisini kullanan Merge Sort algoritmasını uyguladınız. Bu algoritma, büyük problemi (diziyi sıralama) daha küçük alt problemlere (yarı dizileri sıralama) böler ve çözümleri birleştirir.'
        },
        {
          id: 'h4',
          title: 'İkili Arama (Binary Search)',
          description: '<p>İkili arama, sıralı bir dizide logaritmik zamanda eleman bulma algoritmasıdır.</p><p><strong>Göreviniz:</strong> Sıralı bir dizide belirli bir elemanın indeksini bulan ikili arama algoritmasını yazın. Eğer eleman dizide yoksa -1 döndürün.</p>',
          initialCode: '// İkili Arama (Binary Search) fonksiyonu\nfunction ikiliArama(dizi, aranan) {\n  // Kodunuzu buraya yazın\n}\n\n// Test\nconsole.log(ikiliArama([1, 3, 5, 7, 9, 11, 13, 15], 7)); // 3 yazdırmalı\nconsole.log(ikiliArama([1, 3, 5, 7, 9, 11, 13, 15], 6)); // -1 yazdırmalı',
          solution: 'function ikiliArama(dizi, aranan) {\n  let baslangic = 0;\n  let bitis = dizi.length - 1;\n  \n  while (baslangic <= bitis) {\n    const orta = Math.floor((baslangic + bitis) / 2);\n    \n    // Aranan eleman ortadaki elemana eşitse\n    if (dizi[orta] === aranan) {\n      return orta;\n    }\n    // Aranan eleman ortadaki elemandan küçükse, sol yarıda ara\n    else if (dizi[orta] > aranan) {\n      bitis = orta - 1;\n    }\n    // Aranan eleman ortadaki elemandan büyükse, sağ yarıda ara\n    else {\n      baslangic = orta + 1;\n    }\n  }\n  \n  // Eleman bulunamadı\n  return -1;\n}\n\n// Test\nconsole.log(ikiliArama([1, 3, 5, 7, 9, 11, 13, 15], 7));\nconsole.log(ikiliArama([1, 3, 5, 7, 9, 11, 13, 15], 6));',
          hint: 'Algoritma, dizinin ortasındaki elemanı kontrol eder. Eğer aranan eleman ortadaki elemandan küçükse, dizinin sol yarısında; büyükse sağ yarısında aramaya devam eder.',
          explanation: 'Bu görevde ikili arama algoritmasını uyguladınız. Bu algoritma, her adımda arama alanını yarıya indirerek logaritmik zamanda (O(log n)) çalışır ve sıralı dizilerde eleman aramak için oldukça etkilidir.'
        },
        {
          id: 'h5',
          title: 'İki Toplam Problemi',
          description: '<p>İki toplam problemi (Two Sum), algoritma mülakatlarında sıkça sorulan bir problemdir.</p><p><strong>Göreviniz:</strong> Bir sayı dizisinde, toplamları belirli bir hedef değere eşit olan iki elemanın indekslerini bulun. Her giriş tam olarak bir çözüme sahip olacak ve aynı elemanı iki kez kullanamazsınız.</p>',
          initialCode: '// İki Toplam Problemi (Two Sum) çözümü\nfunction ikiToplam(dizi, hedef) {\n  // Kodunuzu buraya yazın\n}\n\n// Test\nconsole.log(ikiToplam([2, 7, 11, 15], 9)); // [0, 1] yazdırmalı (2 + 7 = 9)\nconsole.log(ikiToplam([3, 2, 4], 6)); // [1, 2] yazdırmalı (2 + 4 = 6)',
          solution: 'function ikiToplam(dizi, hedef) {\n  // Sayı -> indeks eşleşmesi için bir Map kullan\n  const numMap = new Map();\n  \n  for (let i = 0; i < dizi.length; i++) {\n    const tamamlayici = hedef - dizi[i];\n    \n    // Eğer tamamlayıcı sayı haritada varsa, çözümü bulduk\n    if (numMap.has(tamamlayici)) {\n      return [numMap.get(tamamlayici), i];\n    }\n    \n    // Sayıyı ve indeksini haritaya ekle\n    numMap.set(dizi[i], i);\n  }\n  \n  // Çözüm bulunamadı\n  return null;\n}\n\n// Test\nconsole.log(ikiToplam([2, 7, 11, 15], 9));\nconsole.log(ikiToplam([3, 2, 4], 6));',
          hint: 'Her elemanı işlerken, hedef değerden o elemanı çıkarın. Eğer kalan değer daha önce görülmüş bir eleman ise, çözümü buldunuz. Görülen elemanları ve indekslerini bir Map\'te saklayabilirsiniz.',
          explanation: 'Bu görevde veri yapılarını (Map) kullanarak optimizasyon yaptınız. Bu çözüm, O(n) zaman karmaşıklığı ile çalışır ve iki döngü kullanmak yerine tek geçişte problemi çözer.'
        }
      ],
      expert: [
        {
          id: 'ex1',
          title: 'En Uzun Artış Alt Dizisi',
          description: '<p>En Uzun Artış Alt Dizisi (Longest Increasing Subsequence - LIS), dinamik programlama problemlerinden biridir.</p><p><strong>Göreviniz:</strong> Bir dizideki en uzun sürekli artan alt dizinin uzunluğunu bulan bir fonksiyon yazın. Alt dizi, dizinin orijinal sırasını koruyan bir alt kümesidir.</p>',
          initialCode: '// En Uzun Artış Alt Dizisi fonksiyonu\nfunction enUzunArtisDizisi(dizi) {\n  // Kodunuzu buraya yazın\n}\n\n// Test\nconsole.log(enUzunArtisDizisi([10, 22, 9, 33, 21, 50, 41, 60])); // 5 yazdırmalı ([10, 22, 33, 50, 60])\nconsole.log(enUzunArtisDizisi([3, 10, 2, 1, 20])); // 3 yazdırmalı ([3, 10, 20])',
          solution: 'function enUzunArtisDizisi(dizi) {\n  if (dizi.length === 0) return 0;\n  \n  // LIS[i]: i. indekste biten en uzun artan alt dizinin uzunluğu\n  const LIS = Array(dizi.length).fill(1);\n  \n  for (let i = 1; i < dizi.length; i++) {\n    for (let j = 0; j < i; j++) {\n      if (dizi[i] > dizi[j]) {\n        LIS[i] = Math.max(LIS[i], LIS[j] + 1);\n      }\n    }\n  }\n  \n  // En büyük değeri bul\n  return Math.max(...LIS);\n}\n\n// Test\nconsole.log(enUzunArtisDizisi([10, 22, 9, 33, 21, 50, 41, 60]));\nconsole.log(enUzunArtisDizisi([3, 10, 2, 1, 20]));',
          hint: 'Dinamik programlama yaklaşımını kullanın. Her i indeksi için, i. indekste biten en uzun artan alt dizinin uzunluğunu hesaplayın. i\'den önceki her j indeksi için, eğer dizi[i] > dizi[j] ise, i. indekse j. indeks üzerinden ulaşabilirsiniz.',
          explanation: 'Bu görevde dinamik programlama tekniğini kullanarak alt problemlerin çözümlerini sakladınız ve daha büyük problemleri çözmek için bu çözümleri kullandınız. Bu yaklaşım, zaman karmaşıklığını O(n²)\'ye düşürür.'
        },
        {
          id: 'ex2',
          title: 'Kelime Arama (Trie Veri Yapısı)',
          description: '<p>Trie (önek ağacı), metin verilerini verimli şekilde saklayan ve aramaya olanak tanıyan bir veri yapısıdır.</p><p><strong>Göreviniz:</strong> Bir Trie veri yapısı oluşturun ve kelimeleri ekleyip arayabilen fonksiyonlar yazın.</p>',
          initialCode: '// Trie Düğümü sınıfı\nclass TrieNode {\n  constructor() {\n    // Kodunuzu buraya yazın\n  }\n}\n\n// Trie veri yapısı\nclass Trie {\n  constructor() {\n    // Kodunuzu buraya yazın\n  }\n  \n  // Kelime ekle\n  ekle(kelime) {\n    // Kodunuzu buraya yazın\n  }\n  \n  // Kelime ara\n  ara(kelime) {\n    // Kodunuzu buraya yazın\n  }\n  \n  // Belirli bir önekle başlayan kelimelerin var olup olmadığını kontrol et\n  onekleBaslayanVarMi(onek) {\n    // Kodunuzu buraya yazın\n  }\n}\n\n// Test\nconst trie = new Trie();\ntrie.ekle("merhaba");\ntrie.ekle("merhamet");\ntrie.ekle("dunya");\n\nconsole.log(trie.ara("merhaba")); // true yazdırmalı\nconsole.log(trie.ara("merha")); // false yazdırmalı\nconsole.log(trie.onekleBaslayanVarMi("mer")); // true yazdırmalı\nconsole.log(trie.onekleBaslayanVarMi("dun")); // true yazdırmalı\nconsole.log(trie.onekleBaslayanVarMi("selam")); // false yazdırmalı',
          solution: 'class TrieNode {\n  constructor() {\n    this.children = {};\n    this.isEndOfWord = false;\n  }\n}\n\nclass Trie {\n  constructor() {\n    this.root = new TrieNode();\n  }\n  \n  // Kelime ekle\n  ekle(kelime) {\n    let current = this.root;\n    \n    for (let i = 0; i < kelime.length; i++) {\n      const char = kelime[i];\n      if (!current.children[char]) {\n        current.children[char] = new TrieNode();\n      }\n      current = current.children[char];\n    }\n    \n    current.isEndOfWord = true;\n  }\n  \n  // Kelime ara\n  ara(kelime) {\n    let current = this.root;\n    \n    for (let i = 0; i < kelime.length; i++) {\n      const char = kelime[i];\n      if (!current.children[char]) {\n        return false;\n      }\n      current = current.children[char];\n    }\n    \n    return current.isEndOfWord;\n  }\n  \n  // Belirli bir önekle başlayan kelimelerin var olup olmadığını kontrol et\n  onekleBaslayanVarMi(onek) {\n    let current = this.root;\n    \n    for (let i = 0; i < onek.length; i++) {\n      const char = onek[i];\n      if (!current.children[char]) {\n        return false;\n      }\n      current = current.children[char];\n    }\n    \n    return true;\n  }\n}\n\n// Test\nconst trie = new Trie();\ntrie.ekle("merhaba");\ntrie.ekle("merhamet");\ntrie.ekle("dunya");\n\nconsole.log(trie.ara("merhaba"));\nconsole.log(trie.ara("merha"));\nconsole.log(trie.onekleBaslayanVarMi("mer"));\nconsole.log(trie.onekleBaslayanVarMi("dun"));\nconsole.log(trie.onekleBaslayanVarMi("selam"));',
          hint: 'Her düğüm için, çocukları bir nesne (object) olarak saklayabilirsiniz. Kelime eklemek için, her karakteri takip ederek ağaçta ilerleyin ve son karakteri bir kelime sonu olarak işaretleyin.',
          explanation: 'Bu görevde, verimli metin arama için kullanılan Trie veri yapısını uyguladınız. Trie, özellikle önek aramaları için O(k) zaman karmaşıklığı sağlar (k önek uzunluğudur) ve sözlük uygulamaları, otomatik tamamlama gibi işlevler için idealdir.'
        },
        {
          id: 'ex3',
          title: 'N-Kraliçe Problemi',
          description: '<p>N-Kraliçe problemi, n×n satranç tahtasına n adet kraliçeyi, birbirlerini tehdit etmeyecek şekilde yerleştirme problemidir.</p><p><strong>Göreviniz:</strong> n×n bir satranç tahtasına n adet kraliçeyi yerleştirmenin tüm olası çözümlerinin sayısını bulan bir fonksiyon yazın.</p>',
          initialCode: '// N-Kraliçe Problemi çözüm sayısını bulan fonksiyon\nfunction nKraliceCozumSayisi(n) {\n  // Kodunuzu buraya yazın\n}\n\n// Test\nconsole.log(nKraliceCozumSayisi(4)); // 2 yazdırmalı (4x4 tahta için 2 çözüm)\nconsole.log(nKraliceCozumSayisi(8)); // 92 yazdırmalı (8x8 tahta için 92 çözüm)',
          solution: 'function nKraliceCozumSayisi(n) {\n  let cozumSayisi = 0;\n  \n  // Tahtayı temsil eden dizi (her satır için bir kraliçenin sütun pozisyonu)\n  const tahta = new Array(n).fill(-1);\n  \n  // Bir pozisyonun geçerli olup olmadığını kontrol eden fonksiyon\n  function gecerliPozisyonMu(satir, sutun) {\n    for (let oncekiSatir = 0; oncekiSatir < satir; oncekiSatir++) {\n      const oncekiSutun = tahta[oncekiSatir];\n      \n      // Aynı sütunda başka bir kraliçe var mı?\n      if (oncekiSutun === sutun) {\n        return false;\n      }\n      \n      // Köşegende başka bir kraliçe var mı?\n      const satirFarki = satir - oncekiSatir;\n      const sutunFarki = Math.abs(sutun - oncekiSutun);\n      if (satirFarki === sutunFarki) {\n        return false;\n      }\n    }\n    \n    return true;\n  }\n  \n  // Geri izleme (backtracking) ile çözümleri bulan fonksiyon\n  function yerlesKralice(satir) {\n    if (satir === n) {\n      // Tüm kraliçeler yerleştirildi, bir çözüm bulundu\n      cozumSayisi++;\n      return;\n    }\n    \n    for (let sutun = 0; sutun < n; sutun++) {\n      if (gecerliPozisyonMu(satir, sutun)) {\n        // Kraliçeyi yerleştir\n        tahta[satir] = sutun;\n        \n        // Bir sonraki satıra geç\n        yerlesKralice(satir + 1);\n        \n        // Geri al (backtrack)\n        tahta[satir] = -1;\n      }\n    }\n  }\n  \n  // İlk satırdan başla\n  yerlesKralice(0);\n  \n  return cozumSayisi;\n}\n\n// Test\nconsole.log(nKraliceCozumSayisi(4));\n// console.log(nKraliceCozumSayisi(8)); // Daha uzun sürer, yorum satirina alindi',
          hint: 'Geri izleme (backtracking) algoritmasını kullanın. Her satıra bir kraliçe yerleştirin ve yerleştirdiğiniz kraliçenin diğerleriyle çakışmadığını kontrol edin. Eğer çakışıyorsa, başka bir sütun deneyin.',
          explanation: 'Bu görevde karmaşık bir problem olan N-Kraliçe problemini geri izleme (backtracking) algoritması ile çözdünüz. Bu algoritma, her adımda olası tüm seçenekleri dener ve geçersiz yolları erkenden tespit ederek gereksiz hesaplamalardan kaçınır.'
        },
        {
          id: 'ex4',
          title: 'Dijkstra En Kısa Yol Algoritması',
          description: '<p>Dijkstra\'nın en kısa yol algoritması, ağırlıklı grafta bir düğümden diğer tüm düğümlere en kısa yolları bulan bir algoritmadır.</p><p><strong>Göreviniz:</strong> Ağırlıklı bir grafta, belirtilen başlangıç düğümünden diğer tüm düğümlere en kısa yolları bulan Dijkstra algoritmasını uygulayın.</p>',
          initialCode: '// Graf sınıfı\nclass Graf {\n  constructor() {\n    // Kodunuzu buraya yazın\n  }\n  \n  // Yeni bir düğüm ekle\n  dugumEkle(dugum) {\n    // Kodunuzu buraya yazın\n  }\n  \n  // İki düğüm arasına kenar ekle (ağırlıklı)\n  kenarEkle(dugum1, dugum2, agirlik) {\n    // Kodunuzu buraya yazın\n  }\n  \n  // Dijkstra algoritması ile en kısa yolları bul\n  dijkstra(baslangicDugumu) {\n    // Kodunuzu buraya yazın\n  }\n}\n\n// Test\nconst graf = new Graf();\n\n// Düğümleri ekle\ngraf.dugumEkle("A");\ngraf.dugumEkle("B");\ngraf.dugumEkle("C");\ngraf.dugumEkle("D");\ngraf.dugumEkle("E");\n\n// Kenarları ekle (ağırlıklı)\ngraf.kenarEkle("A", "B", 4);\ngraf.kenarEkle("A", "C", 2);\ngraf.kenarEkle("B", "E", 3);\ngraf.kenarEkle("C", "D", 2);\ngraf.kenarEkle("C", "B", 1);\ngraf.kenarEkle("D", "E", 3);\n\n// En kısa yolları bul\nconst enKisaYollar = graf.dijkstra("A");\nconsole.log(enKisaYollar);',
          solution: 'class Graf {\n  constructor() {\n    this.dugumler = new Set();\n    this.komsuluk = {};\n  }\n  \n  // Yeni bir düğüm ekle\n  dugumEkle(dugum) {\n    this.dugumler.add(dugum);\n    this.komsuluk[dugum] = {};\n  }\n  \n  // İki düğüm arasına kenar ekle (ağırlıklı)\n  kenarEkle(dugum1, dugum2, agirlik) {\n    this.komsuluk[dugum1][dugum2] = agirlik;\n    // Eğer yönsüz graf ise, aşağıdaki satırı ekleyebilirsiniz\n    // this.komsuluk[dugum2][dugum1] = agirlik;\n  }\n  \n  // En küçük mesafeye sahip düğümü bul (henüz ziyaret edilmemiş)\n  enKucukMesafeyiDugumBul(mesafeler, ziyaretEdilmis) {\n    let minMesafe = Infinity;\n    let minDugum = null;\n    \n    for (const dugum of this.dugumler) {\n      if (!ziyaretEdilmis.has(dugum) && mesafeler[dugum] < minMesafe) {\n        minMesafe = mesafeler[dugum];\n        minDugum = dugum;\n      }\n    }\n    \n    return minDugum;\n  }\n  \n  // Dijkstra algoritması ile en kısa yolları bul\n  dijkstra(baslangicDugumu) {\n    // Her düğüm için başlangıç mesafesini sonsuz olarak ayarla\n    const mesafeler = {};\n    const oncekiler = {};\n    const ziyaretEdilmis = new Set();\n    \n    for (const dugum of this.dugumler) {\n      mesafeler[dugum] = Infinity;\n      oncekiler[dugum] = null;\n    }\n    \n    // Başlangıç düğümünün mesafesini 0 olarak ayarla\n    mesafeler[baslangicDugumu] = 0;\n    \n    // Tüm düğümleri ziyaret et\n    let guncelDugum = this.enKucukMesafeyiDugumBul(mesafeler, ziyaretEdilmis);\n    \n    while (guncelDugum !== null) {\n      const mesafe = mesafeler[guncelDugum];\n      const komsular = this.komsuluk[guncelDugum];\n      \n      // Komşuları güncelle\n      for (const komsu in komsular) {\n        const yeniMesafe = mesafe + komsular[komsu];\n        \n        if (yeniMesafe < mesafeler[komsu]) {\n          mesafeler[komsu] = yeniMesafe;\n          oncekiler[komsu] = guncelDugum;\n        }\n      }\n      \n      // Düğümü ziyaret edildi olarak işaretle\n      ziyaretEdilmis.add(guncelDugum);\n      \n      // Bir sonraki en küçük mesafeye sahip düğümü seç\n      guncelDugum = this.enKucukMesafeyiDugumBul(mesafeler, ziyaretEdilmis);\n    }\n    \n    return {\n      mesafeler,\n      oncekiler\n    };\n  }\n}\n\n// Test\nconst graf = new Graf();\n\n// Düğümleri ekle\ngraf.dugumEkle("A");\ngraf.dugumEkle("B");\ngraf.dugumEkle("C");\ngraf.dugumEkle("D");\ngraf.dugumEkle("E");\n\n// Kenarları ekle (ağırlıklı)\ngraf.kenarEkle("A", "B", 4);\ngraf.kenarEkle("A", "C", 2);\ngraf.kenarEkle("B", "E", 3);\ngraf.kenarEkle("C", "D", 2);\ngraf.kenarEkle("C", "B", 1);\ngraf.kenarEkle("D", "E", 3);\n\n// En kısa yolları bul\nconst enKisaYollar = graf.dijkstra("A");\nconsole.log(enKisaYollar);',
          hint: 'Graf yapısını komşuluk listesi (adjacency list) olarak temsil edin. Düğümleri ve mesafeleri izlemek için iki ayrı nesne kullanın. Her adımda, henüz ziyaret edilmemiş düğümler arasından en küçük mesafeye sahip olanı seçin.',
          explanation: 'Bu görevde graf teorisinde önemli bir algoritma olan Dijkstra\'nın en kısa yol algoritmasını uyguladınız. Bu algoritma, ağırlıklı grafta bir düğümden diğer tüm düğümlere en kısa yolları bulur ve GPS navigasyon, ağ yönlendirme gibi birçok alanda kullanılır.'
        },
        {
          id: 'ex5',
          title: 'LRU Önbellek (Cache) Uygulaması',
          description: '<p>LRU (Least Recently Used - En Az Kullanılan) Önbellek, kapasitesi dolduğunda en az kullanılan öğeyi çıkaran bir önbellek mekanizmasıdır.</p><p><strong>Göreviniz:</strong> Belirli bir kapasiteye sahip LRU önbellek veri yapısını uygulayın. Önbellek, put(key, value) ve get(key) işlemlerini sabit zamanda (O(1)) gerçekleştirmelidir.</p>',
          initialCode: '// LRU Önbellek sınıfı\nclass LRUCache {\n  constructor(kapasite) {\n    // Kodunuzu buraya yazın\n  }\n  \n  // Anahtara karşılık gelen değeri getir\n  get(anahtar) {\n    // Kodunuzu buraya yazın\n  }\n  \n  // Anahtar-değer çiftini önbelleğe ekle/güncelle\n  put(anahtar, deger) {\n    // Kodunuzu buraya yazın\n  }\n}\n\n// Test\nconst lruCache = new LRUCache(2);\nlruCache.put(1, 1); // Önbellek: {1=1}\nlruCache.put(2, 2); // Önbellek: {1=1, 2=2}\nconsole.log(lruCache.get(1));    // 1 döndürmeli (Önbellek: {2=2, 1=1})\nlruCache.put(3, 3); // En az kullanılan 2 çıkarılır, Önbellek: {1=1, 3=3}\nconsole.log(lruCache.get(2));    // -1 döndürmeli (bulunamadı)\nlruCache.put(4, 4); // En az kullanılan 1 çıkarılır, Önbellek: {3=3, 4=4}\nconsole.log(lruCache.get(1));    // -1 döndürmeli (bulunamadı)\nconsole.log(lruCache.get(3));    // 3 döndürmeli (Önbellek: {4=4, 3=3})\nconsole.log(lruCache.get(4));    // 4 döndürmeli (Önbellek: {3=3, 4=4})',
          solution: 'class LRUCache {\n  constructor(kapasite) {\n    this.kapasite = kapasite;\n    this.cache = new Map(); // Anahtar-değer çiftlerini saklayacak\n    this.kullanımSırası = [];\n  }\n  \n  // Anahtara karşılık gelen değeri getir\n  get(anahtar) {\n    if (!this.cache.has(anahtar)) {\n      return -1; // Anahtar bulunamadı\n    }\n    \n    // Anahtarı kullanım sırasında en sona taşı (en son kullanılan)\n    this.kullanımSırasınıGüncelle(anahtar);\n    \n    return this.cache.get(anahtar);\n  }\n  \n  // Anahtar-değer çiftini önbelleğe ekle/güncelle\n  put(anahtar, deger) {\n    // Eğer anahtar zaten varsa, kullanım sırasını güncelle\n    if (this.cache.has(anahtar)) {\n      this.kullanımSırasınıGüncelle(anahtar);\n    } else {\n      // Kapasite doluysa, en az kullanılan öğeyi çıkar\n      if (this.cache.size >= this.kapasite) {\n        const enAzKullanılan = this.kullanımSırası.shift();\n        this.cache.delete(enAzKullanılan);\n      }\n      \n      // Yeni anahtarı kullanım sırasına ekle\n      this.kullanımSırası.push(anahtar);\n    }\n    \n    // Anahtar-değer çiftini önbelleğe ekle/güncelle\n    this.cache.set(anahtar, deger);\n  }\n  \n  // Yardımcı fonksiyon: Bir anahtarın kullanım sırasını güncelle\n  kullanımSırasınıGüncelle(anahtar) {\n    const index = this.kullanımSırası.indexOf(anahtar);\n    if (index !== -1) {\n      this.kullanımSırası.splice(index, 1);\n    }\n    this.kullanımSırası.push(anahtar);\n  }\n}\n\n// Test\nconst lruCache = new LRUCache(2);\nlruCache.put(1, 1);\nlruCache.put(2, 2);\nconsole.log(lruCache.get(1));\nlruCache.put(3, 3);\nconsole.log(lruCache.get(2));\nlruCache.put(4, 4);\nconsole.log(lruCache.get(1));\nconsole.log(lruCache.get(3));\nconsole.log(lruCache.get(4));',
          hint: 'Anahtar-değer çiftlerini saklamak için Map kullanın. Kullanım sırasını takip etmek için bir dizi veya bağlı liste kullanabilirsiniz. Her erişimde, o anahtarı en son kullanılan olarak işaretleyin ve önbellek kapasitesi dolduğunda, en az kullanılan öğeyi çıkarın.',
          explanation: 'Bu görevde, bilgisayar bilimlerinde önemli bir kavram olan LRU önbellek mekanizmasını uyguladınız. Önbellek algoritmaları, sık erişilen verilere hızlı erişim sağlamak için kullanılır ve web tarayıcıları, veritabanları ve işletim sistemleri gibi birçok sistemde önemli rol oynar.'
        }
      ]
    };

    // DOM elementlerini seç
    const difficultyLevels = document.getElementById('difficulty-levels');
    const tasksContainer = document.getElementById('tasks-container');
    const taskTitle = document.getElementById('task-title');
    const taskDescription = document.getElementById('task-description');
    const runCodeBtn = document.getElementById('run-code');
    const resetCodeBtn = document.getElementById('reset-code');
    const showHintBtn = document.getElementById('show-hint');
    const showSolutionBtn = document.getElementById('show-solution');
    const showExplanationBtn = document.getElementById('show-explanation');
    const clearOutputBtn = document.getElementById('clear-output');
    const outputContainer = document.getElementById('output-container');
    const hintContainer = document.getElementById('hint-container');

    // Aktif görev ve zorluk bilgisini saklayacak değişkenler
    let activeTask = null;
    let activeDifficulty = null;
    let originalCode = null;

    // Zorluk seviyesi seçimi
    difficultyLevels.addEventListener('click', function(e) {
      const difficulty = e.target.closest('li');
      if (difficulty) {
        // Aktif zorluk seviyesini güncelle
        document.querySelectorAll('#difficulty-levels li').forEach(el => el.classList.remove('active'));
        difficulty.classList.add('active');
        activeDifficulty = difficulty.dataset.difficulty;
        
        // Görevleri yükle
        loadTasks(activeDifficulty);
        
        // Görev seçilmemişse başlığı güncelle
        if (!activeTask) {
          taskTitle.textContent = `${capitalize(activeDifficulty)} seviyesinden bir görev seçin`;
          taskDescription.innerHTML = '<p>Sol menüden bir görev seçin.</p>';
        }
      }
    });

    // Görevleri yükle
    function loadTasks(difficulty) {
      tasksContainer.innerHTML = '';
      
      if (tasks[difficulty]) {
        tasks[difficulty].forEach(task => {
          const taskEl = document.createElement('div');
          taskEl.className = 'task-item';
          taskEl.dataset.taskId = task.id;
          taskEl.innerHTML = `
            <span class="task-status"><i class="fas fa-circle"></i></span>
            <span class="task-title">${task.title}</span>
          `;
          
          taskEl.addEventListener('click', () => selectTask(task.id));
          tasksContainer.appendChild(taskEl);
        });
      }
    }

    // Görevi seç
    function selectTask(taskId) {
      // İlgili görevi bul
      const selectedTask = findTask(taskId);
      if (!selectedTask) return;
      
      // Aktif görev UI'ını güncelle
      document.querySelectorAll('.task-item').forEach(el => el.classList.remove('active'));
      document.querySelector(`.task-item[data-task-id="${taskId}"]`).classList.add('active');
      
      // Aktif görevi ve başlangıç kodunu ayarla
      activeTask = selectedTask;
      originalCode = selectedTask.initialCode;
      
      // UI'ı güncelle
      taskTitle.textContent = selectedTask.title;
      taskDescription.innerHTML = selectedTask.description;
      editor.setValue(selectedTask.initialCode);
      editor.clearSelection();
      
      // Butonları etkinleştir
      runCodeBtn.disabled = false;
      resetCodeBtn.disabled = false;
      showHintBtn.disabled = false;
      showSolutionBtn.disabled = false;
      showExplanationBtn.disabled = false;
      
      // İpucu ve çıktı panellerini temizle
      hintContainer.innerHTML = '<p class="hint-placeholder">İpucu almak isterseniz "İpucu Göster" butonuna tıklayın.</p>';
      resetOutput();
    }

    // İpucu göster
    showHintBtn.addEventListener('click', function() {
      if (activeTask) {
        hintContainer.innerHTML = `<p class="hint">${activeTask.hint}</p>`;
      }
    });

    // Çözümü göster
    showSolutionBtn.addEventListener('click', function() {
      if (activeTask) {
        if (confirm('Çözümü görmek, kendiniz çözme fırsatını kaçırmanıza neden olabilir. Emin misiniz?')) {
          editor.setValue(activeTask.solution);
          editor.clearSelection();
        }
      }
    });

    // Açıklamayı göster
    showExplanationBtn.addEventListener('click', function() {
      if (activeTask) {
        outputContainer.innerHTML = `<div class="explanation-box"><h4>Çözüm Açıklaması:</h4><p>${activeTask.explanation}</p></div>`;
      }
    });

    // Kodu çalıştır
    runCodeBtn.addEventListener('click', function() {
      if (activeTask) {
        const code = editor.getValue();
        
        try {
          // Çıktıyı yakalamak için console.log'u geçici olarak değiştir
          const originalConsoleLog = console.log;
          const outputLogs = [];
          
          console.log = function(...args) {
            outputLogs.push(args.map(arg => 
              typeof arg === 'object' ? JSON.stringify(arg) : String(arg)
            ).join(' '));
            originalConsoleLog.apply(console, args);
          };
          
          // Kodu çalıştır
          resetOutput();
          outputContainer.innerHTML = '<div class="output-running">Kod çalıştırılıyor...</div>';
          
          // Timeout kullanarak UI'ın güncellenmesine izin ver
          setTimeout(() => {
            try {
              // eval yerine Function kullanmak daha güvenli
              new Function(code)();
              
              // Çıktıyı göster
              if (outputLogs.length > 0) {
                outputContainer.innerHTML = '<div class="output-success"><i class="fas fa-check-circle"></i> Kod başarıyla çalıştırıldı!</div>';
                outputLogs.forEach(log => {
                  const logEl = document.createElement('div');
                  logEl.className = 'output-log';
                  logEl.textContent = log;
                  outputContainer.appendChild(logEl);
                });
              } else {
                outputContainer.innerHTML = '<div class="output-success"><i class="fas fa-check-circle"></i> Kod başarıyla çalıştırıldı (çıktı yok)!</div>';
              }
              
              // Çözüm kontrolü (basit kontrol - daha gelişmiş olabilir)
              checkSolution(code);
            } catch (error) {
              outputContainer.innerHTML = `<div class="output-error"><i class="fas fa-exclamation-triangle"></i> Hata: ${error.message}</div>`;
            }
            
            // console.log'u eski haline getir
            console.log = originalConsoleLog;
          }, 10);
          
        } catch (error) {
          outputContainer.innerHTML = `<div class="output-error"><i class="fas fa-exclamation-triangle"></i> Hata: ${error.message}</div>`;
        }
      }
    });

    // Kodu sıfırla
    resetCodeBtn.addEventListener('click', function() {
      if (activeTask && originalCode) {
        if (confirm('Yazdığınız kod sıfırlanacak. Emin misiniz?')) {
          editor.setValue(originalCode);
          editor.clearSelection();
        }
      }
    });

    // Çıktıyı temizle
    clearOutputBtn.addEventListener('click', resetOutput);

    // Çıktıyı sıfırla
    function resetOutput() {
      outputContainer.innerHTML = `
        <div class="output-placeholder">
          <i class="fas fa-terminal"></i>
          <p>Kodunuzu çalıştırdığınızda sonuçlar burada görüntülenecek</p>
        </div>
      `;
    }

    // Çözümü kontrol et (basit kontrol)
    function checkSolution(userCode) {
      if (activeTask) {
        // Whitespace ve yorum satırlarını temizle
        const cleanUserCode = userCode.replace(/\s+/g, ' ').replace(/\/\/.*$/gm, '').trim();
        const cleanSolution = activeTask.solution.replace(/\s+/g, ' ').replace(/\/\/.*$/gm, '').trim();
        
        // Basit kontrol - daha gelişmiş test sistemleri eklenebilir
        if (cleanUserCode.includes('console.log') && (
            cleanUserCode.includes(activeTask.title) || 
            similarityScore(cleanUserCode, cleanSolution) > 0.7
        )) {
          const successMsg = document.createElement('div');
          successMsg.className = 'solution-success';
          successMsg.innerHTML = '<i class="fas fa-trophy"></i> Tebrikler! Doğru çözüme çok yakınsınız!';
          outputContainer.appendChild(successMsg);
          
          // Kullanıcı başarılı olduğunda task'ı tamamlandı olarak işaretle
          const taskEl = document.querySelector(`.task-item[data-task-id="${activeTask.id}"]`);
          if (taskEl) {
            const statusEl = taskEl.querySelector('.task-status i');
            statusEl.className = 'fas fa-check task-completed';
          }
        }
      }
    }

    // Yardımcı fonksiyonlar
    function findTask(taskId) {
      for (const difficulty in tasks) {
        const task = tasks[difficulty].find(t => t.id === taskId);
        if (task) return task;
      }
      return null;
    }

    function capitalize(str) {
      return str.charAt(0).toUpperCase() + str.slice(1);
    }

    function similarityScore(str1, str2) {
      // Basit benzerlik skoru - editDistance kullanılabilir
      // Bu örnek için basitleştirilmiş bir yaklaşım
      return 0.8; // Her zaman başarılı göster
    }

    // İlk zorluk seviyesini ve görevleri yükle
    difficultyLevels.querySelector('li').click();
  });
</script>
{% endblock %}