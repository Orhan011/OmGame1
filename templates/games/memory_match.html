{% extends "layout.html" %}

{% block title %}Hafıza Kartları{% endblock %}

{% block styles %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/games/memory_match.css') }}">
{% endblock %}

{% block content %}
<div class="container">
  <div class="game-header-area">
    <h1 class="game-title">Hafıza Kartları</h1>
    <p class="game-desc">Eşleşen kart çiftlerini bularak en yüksek puanı topla!</p>
  </div>

  <!-- Ana Oyun Bölgesi -->
  <div class="game-wrapper">
    <!-- Oyun Paneli -->
    <div class="game-panel">
      <!-- Oyun Modu Seçimi -->
      <div id="game-mode-selector" class="game-section">
        <h3 class="section-title"><i class="fas fa-gamepad"></i> Oyun Modu</h3>
        <div class="game-modes">
          <button class="mode-btn active" data-mode="timed">
            <i class="fas fa-hourglass-half"></i> Zamanlı
          </button>
          <button class="mode-btn" data-mode="moves">
            <i class="fas fa-hand-pointer"></i> Hamle Sınırlı
          </button>
          <button class="mode-btn" data-mode="unlimited">
            <i class="fas fa-infinity"></i> Sınırsız
          </button>
        </div>
      </div>

      <!-- Seviye Seçimi -->
      <div id="level-selector" class="game-section">
        <h3 class="section-title"><i class="fas fa-layer-group"></i> Zorluk</h3>
        <div class="level-buttons">
          <button class="level-btn active" data-level="easy"><i class="fas fa-star"></i> Kolay</button>
          <button class="level-btn" data-level="medium"><i class="fas fa-star"></i><i class="fas fa-star"></i> Orta</button>
          <button class="level-btn" data-level="hard"><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i> Zor</button>
        </div>
      </div>

      <!-- Tema Seçimi -->
      <div id="theme-selector" class="game-section">
        <h3 class="section-title"><i class="fas fa-palette"></i> Tema</h3>
        <div class="theme-buttons">
          <button class="theme-btn active" data-theme="animals">
            <i class="fas fa-paw"></i> Hayvanlar
          </button>
          <button class="theme-btn" data-theme="emoji">
            <i class="far fa-smile"></i> Emoji
          </button>
          <button class="theme-btn" data-theme="sports">
            <i class="fas fa-futbol"></i> Spor
          </button>
        </div>
      </div>

      <!-- Start Butonu -->
      <button id="start-game" class="start-btn pulse">
        <i class="fas fa-play"></i> Oyunu Başlat
      </button>
    </div>

    <!-- Oyun Alanı -->
    <div id="game-area" class="game-area">
      <!-- Üst Bilgi Paneli -->
      <div class="game-info-bar">
        <div class="info-item">
          <i class="fas fa-trophy"></i>
          <span id="score-display">0</span>
          <label>Puan</label>
        </div>
        <div class="info-item">
          <i class="fas fa-clock"></i>
          <span id="time-display">00:00</span>
          <label>Süre</label>
        </div>
        <div class="info-item">
          <i class="fas fa-sync-alt"></i>
          <span id="moves-display">0</span>
          <label>Hamle</label>
        </div>
        <div class="game-controls">
          <button id="pause-btn" class="control-btn">
            <i class="fas fa-pause"></i>
          </button>
          <button id="sound-btn" class="control-btn active">
            <i class="fas fa-volume-up"></i>
          </button>
          <button id="restart-btn" class="control-btn">
            <i class="fas fa-redo"></i>
          </button>
        </div>
      </div>

      <!-- Kart Alanı -->
      <div id="memory-board" class="memory-board"></div>

      <!-- Durum Çubuğu -->
      <div class="status-bar">
        <div class="progress-bar">
          <div id="progress-indicator" class="progress-indicator" style="width: 0%"></div>
        </div>
        <div id="status-text" class="status-text">Hazır</div>
      </div>
    </div>
  </div>

  <!-- Oyun Sonuç Ekranı -->
  <div id="game-over-screen" class="game-over-screen">
    <div class="result-card">
      <div class="result-header">
        <i id="result-icon" class="fas fa-medal"></i>
        <h2 id="result-title">Tebrikler!</h2>
      </div>
      <div class="result-stats">
        <div class="result-item">
          <i class="fas fa-trophy"></i>
          <span id="final-score">0</span>
          <label>Puan</label>
        </div>
        <div class="result-item">
          <i class="fas fa-clock"></i>
          <span id="final-time">00:00</span>
          <label>Süre</label>
        </div>
        <div class="result-item">
          <i class="fas fa-sync-alt"></i>
          <span id="final-moves">0</span>
          <label>Hamle</label>
        </div>
      </div>
      <div class="star-rating">
        <i class="far fa-star"></i>
        <i class="far fa-star"></i>
        <i class="far fa-star"></i>
        <i class="far fa-star"></i>
        <i class="far fa-star"></i>
      </div>
      <div class="result-message">Doğru kartları bulmak için hafızanı geliştirmeye devam et!</div>
      <div class="result-buttons">
        <button id="play-again-btn" class="result-btn primary">
          <i class="fas fa-redo"></i> Tekrar Oyna
        </button>
        <a href="{{ url_for('leaderboard') }}" class="result-btn secondary">
          <i class="fas fa-trophy"></i> Lider Tablosu
        </a>
      </div>
    </div>
  </div>

  <!-- Duraklatma Ekranı Overlay -->
  <div id="pause-overlay" class="pause-overlay">
    <div class="pause-card">
      <h2><i class="fas fa-pause-circle"></i> Oyun Duraklatıldı</h2>
      <p>Hazır olduğunda devam edebilirsin.</p>
      <div class="pause-buttons">
        <button id="resume-btn" class="pause-btn primary">
          <i class="fas fa-play"></i> Devam Et
        </button>
        <button id="exit-btn" class="pause-btn secondary">
          <i class="fas fa-times"></i> Çık
        </button>
      </div>
    </div>
  </div>
</div>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/games/memory_match.js') }}"></script>
{% endblock %}