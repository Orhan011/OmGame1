{% extends "layout.html" %}

{% block styles %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/games/labyrinth.css') }}">
{% endblock %}

{% block content %}
<div class="container">
  <div class="page-title-section">
    <h1>Labirent</h1>
    <p>Zekâ ve strateji ile çıkış yolunu bulun!</p>
  </div>
  
  <div class="game-container">
    <div class="game-header">
      <div class="game-stats">
        <div class="stat-item">
          <div class="stat-label">Seviye</div>
          <div id="level" class="stat-value">1</div>
        </div>
        <div class="stat-item">
          <div class="stat-label">Zaman</div>
          <div id="timer" class="stat-value">00:00</div>
        </div>
        <div class="stat-item">
          <div class="stat-label">Hamle</div>
          <div id="moves" class="stat-value">0</div>
        </div>
        <div class="stat-item">
          <div class="stat-label">Puan</div>
          <div id="score" class="stat-value">0</div>
        </div>
      </div>
      
      <div class="game-controls">
        <button id="new-game-btn" class="control-btn">Yeni Oyun</button>
        <div class="difficulty-selector">
          <div class="difficulty-label">Zorluk:</div>
          <div class="difficulty-options">
            <button id="easy-btn" class="difficulty-btn active" data-size="8">Kolay</button>
            <button id="medium-btn" class="difficulty-btn" data-size="12">Orta</button>
            <button id="hard-btn" class="difficulty-btn" data-size="16">Zor</button>
          </div>
        </div>
      </div>
    </div>
    
    <div id="maze-container" class="maze-container">
      <!-- Labirent burada oluşturulacak -->
      <div class="loading-message">Labirent oluşturuluyor...</div>
    </div>
    
    <div class="mobile-controls">
      <div class="control-row">
        <button id="up-btn" class="direction-btn"><i class="fas fa-chevron-up"></i></button>
      </div>
      <div class="control-row">
        <button id="left-btn" class="direction-btn"><i class="fas fa-chevron-left"></i></button>
        <button id="down-btn" class="direction-btn"><i class="fas fa-chevron-down"></i></button>
        <button id="right-btn" class="direction-btn"><i class="fas fa-chevron-right"></i></button>
      </div>
    </div>
    
    <div id="level-complete" class="overlay hidden">
      <div class="overlay-content">
        <h2>Seviye Tamamlandı!</h2>
        <div class="level-stats">
          <div class="level-stat-item">
            <div class="level-stat-label">Zaman</div>
            <div id="level-time" class="level-stat-value">00:00</div>
          </div>
          <div class="level-stat-item">
            <div class="level-stat-label">Hamle</div>
            <div id="level-moves" class="level-stat-value">0</div>
          </div>
          <div class="level-stat-item">
            <div class="level-stat-label">Puan</div>
            <div id="level-score" class="level-stat-value">0</div>
          </div>
        </div>
        <div class="level-buttons">
          <button id="next-level-btn" class="control-btn">Sonraki Seviye</button>
          <button id="restart-level-btn" class="secondary-btn">Yeniden Başla</button>
        </div>
      </div>
    </div>
    
    <div id="game-complete" class="overlay hidden">
      <div class="overlay-content">
        <h2>Tebrikler! Oyunu Tamamladınız!</h2>
        <div class="game-stats-final">
          <div class="game-stat-item">
            <div class="game-stat-label">Toplam Seviye</div>
            <div id="final-level" class="game-stat-value">0</div>
          </div>
          <div class="game-stat-item">
            <div class="game-stat-label">Toplam Süre</div>
            <div id="final-time" class="game-stat-value">00:00</div>
          </div>
          <div class="game-stat-item">
            <div class="game-stat-label">Toplam Hamle</div>
            <div id="final-moves" class="game-stat-value">0</div>
          </div>
          <div class="game-stat-item">
            <div class="game-stat-label">Toplam Puan</div>
            <div id="final-score" class="game-stat-value">0</div>
          </div>
        </div>
        <button id="play-again-btn" class="control-btn">Tekrar Oyna</button>
      </div>
    </div>
  </div>
  
  <div class="game-info">
    <h3>Nasıl Oynanır?</h3>
    <p>Labirent oyununda, başlangıç noktasından çıkış noktasına ulaşmaya çalışırsınız:</p>
    <ul>
      <li>Mavi kare karakterinizdir.</li>
      <li>Yeşil kare başlangıç noktasıdır.</li>
      <li>Kırmızı kare çıkış noktasıdır.</li>
      <li>Siyah kareler duvar olup, geçemezsiniz.</li>
      <li>Ok tuşları veya ekrandaki yön düğmeleri ile hareket edebilirsiniz.</li>
      <li>Hedef, çıkışa en kısa yoldan ve en hızlı şekilde ulaşmaktır.</li>
    </ul>
    
    <h3>İpuçları:</h3>
    <ul>
      <li>Her hamlede duvarları ve açık yolları değerlendirin.</li>
      <li>Bir labirentin genellikle birden fazla çözüm yolu vardır, en kısasını bulmaya çalışın.</li>
      <li>Çıkmaz sokakları erken fark etmek size zaman kazandıracaktır.</li>
      <li>Zihinsel bir harita oluşturmayı deneyin.</li>
    </ul>
    
    <h3>Puanlama:</h3>
    <ul>
      <li>Hızlı tamamlama: Her seviyeyi ne kadar hızlı tamamlarsanız, o kadar çok puan kazanırsınız.</li>
      <li>Verimli hareket: Daha az hamle yaparak labirenti tamamlarsanız bonus puan kazanırsınız.</li>
      <li>Zorluk seviyesi: Daha zor labirentler daha yüksek puan değerine sahiptir.</li>
    </ul>
  </div>
</div>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/games/labyrinth.js') }}"></script>
{% endblock %}