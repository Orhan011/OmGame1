
{% extends "layout.html" %}

{% block title %}2048{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/2048.css') }}">
{% endblock %}

{% block content %}
<div class="container">
  <div class="row mb-4">
    <div class="col text-center">
      <h1 class="game-title">2048</h1>
      <p class="lead">Sayıları kaydırarak aynı değerleri birleştirin ve 2048'e ulaşın!</p>
    </div>
  </div>

  <div class="row">
    <div class="col-lg-8 mx-auto">
      <div class="game-header">
        <div class="score-container">
          <div class="score-label">Skor</div>
          <div class="score-value" id="score">0</div>
        </div>
        <div class="best-container">
          <div class="score-label">En İyi</div>
          <div class="score-value" id="best-score">0</div>
        </div>
        <div class="actions">
          <button id="new-game-btn" class="action-btn new-game">Yeni Oyun</button>
        </div>
      </div>

      <div class="game-status" id="game-status">
        <p>Tuş takımı ok tuşları veya W, A, S, D ile kontrol edin. Aynı sayıları birleştirerek 2048'e ulaşın!</p>
      </div>

      <div class="game-container">
        <div class="grid-container">
          <div class="grid-background">
            <!-- Grid cells -->
            <div class="grid-cell"></div>
            <div class="grid-cell"></div>
            <div class="grid-cell"></div>
            <div class="grid-cell"></div>
            <div class="grid-cell"></div>
            <div class="grid-cell"></div>
            <div class="grid-cell"></div>
            <div class="grid-cell"></div>
            <div class="grid-cell"></div>
            <div class="grid-cell"></div>
            <div class="grid-cell"></div>
            <div class="grid-cell"></div>
            <div class="grid-cell"></div>
            <div class="grid-cell"></div>
            <div class="grid-cell"></div>
            <div class="grid-cell"></div>
          </div>
          <div class="grid-tiles" id="grid-tiles">
            <!-- Tiles will be added here by JS -->
          </div>
        </div>
        
        <div class="game-message" id="game-message">
          <p id="message-content"></p>
          <div class="lower">
            <button id="retry-button" class="message-button">Tekrar Dene</button>
            <button id="keep-going-button" class="message-button">Devam Et</button>
          </div>
        </div>
      </div>
      
      <div class="keyboard-guide">
        <div class="guide-title">Kontroller</div>
        <div class="guide-keys">
          <div class="key-row">
            <div class="key">↑</div>
          </div>
          <div class="key-row">
            <div class="key">←</div>
            <div class="key">↓</div>
            <div class="key">→</div>
          </div>
          <div class="key-row">
            <span>veya</span>
          </div>
          <div class="key-row">
            <div class="key">W</div>
          </div>
          <div class="key-row">
            <div class="key">A</div>
            <div class="key">S</div>
            <div class="key">D</div>
          </div>
        </div>
      </div>

      <div class="game-instructions mt-4">
        <h4>Nasıl Oynanır?</h4>
        <ul>
          <li>Ok tuşları veya W, A, S, D tuşlarını kullanarak kareleri kaydırın.</li>
          <li>Aynı değere sahip iki kare birleştiğinde, tek bir kareye dönüşür ve değeri ikiye katlanır.</li>
          <li>2048 değerine ulaşmaya çalışın!</li>
          <li>Tahta tamamen dolduğunda ve daha fazla hamle kalmadığında oyun biter.</li>
        </ul>
      </div>

      <div class="text-center mb-5 mt-4">
        <a href="{{ url_for('all_games') }}" class="btn btn-outline-primary">
          <i class="fas fa-arrow-left"></i> Tüm Oyunlara Dön
        </a>
      </div>
    </div>
  </div>
</div>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/games/2048.js') }}"></script>
{% endblock %}
