{% extends "layout.html" %}

{% block title %}2048{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/2048.css') }}">
{% endblock %}

{% block content %}
<div class="container">
  <div class="row mb-4">
    <div class="col text-center">
      <h1 class="display-4 game-title">2048</h1>
      <p class="lead">Sayıları kaydırarak aynı değerleri birleştirin ve 2048'e ulaşın!</p>
    </div>
  </div>

  <div class="row">
    <div class="col-lg-8 mx-auto">
      <div class="game-container">
        <div class="game-header">
          <div class="score-container">
            <div class="score-label">Skor</div>
            <div class="score-value" id="score">0</div>
          </div>
          <div class="best-container">
            <div class="score-label">En İyi</div>
            <div class="score-value" id="best-score">0</div>
          </div>
          <div class="actions">
            <button id="new-game-btn" class="action-btn new-game"><i class="fas fa-redo me-1"></i>Yeni Oyun</button>
          </div>
        </div>

        <div class="game-status" id="game-status">
          <p>Tuş takımı ok tuşları veya W, A, S, D ile kontrol edin. Aynı sayıları birleştirerek 2048'e ulaşın!</p>
        </div>

        <div class="grid-container">
          <div class="grid-background">
            <div class="grid-cell"></div>
            <div class="grid-cell"></div>
            <div class="grid-cell"></div>
            <div class="grid-cell"></div>
            <div class="grid-cell"></div>
            <div class="grid-cell"></div>
            <div class="grid-cell"></div>
            <div class="grid-cell"></div>
            <div class="grid-cell"></div>
            <div class="grid-cell"></div>
            <div class="grid-cell"></div>
            <div class="grid-cell"></div>
            <div class="grid-cell"></div>
            <div class="grid-cell"></div>
            <div class="grid-cell"></div>
            <div class="grid-cell"></div>
          </div>
          <div class="grid-tiles" id="grid-tiles">
            <!-- Burada kutucuklar oluşturulacak -->
          </div>
        </div>

        <div class="game-message" id="game-message">
          <div class="message-content">
            <p></p>
            <div class="message-buttons">
              <button id="retry-button" class="message-button">Tekrar Dene</button>
              <button id="keep-going-button" class="message-button">Devam Et</button>
            </div>
          </div>
        </div>
      </div>

      <div class="keyboard-guide mt-4">
        <div class="guide-title">Kontroller</div>
        <div class="guide-keys">
          <div class="key-row">
            <div class="key"><i class="fas fa-arrow-up"></i></div>
          </div>
          <div class="key-row">
            <div class="key"><i class="fas fa-arrow-left"></i></div>
            <div class="key"><i class="fas fa-arrow-down"></i></div>
            <div class="key"><i class="fas fa-arrow-right"></i></div>
          </div>
          <div class="key-row">
            <span>veya</span>
          </div>
          <div class="key-row">
            <div class="key">W</div>
          </div>
          <div class="key-row">
            <div class="key">A</div>
            <div class="key">S</div>
            <div class="key">D</div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="row mt-4">
    <div class="col-lg-8 mx-auto">
      <div class="game-instructions card">
        <div class="card-body">
          <h4 class="card-title">Nasıl Oynanır?</h4>
          <ul>
            <li><strong>Amaç:</strong> Kareleri birleştirerek 2048 değerine ulaşmak.</li>
            <li><strong>Kontrol:</strong> Ok tuşları veya W, A, S, D ile kareleri kaydırın.</li>
            <li><strong>Birleşme:</strong> Aynı değere sahip iki kare çarpıştığında birleşir ve değerleri toplanır.</li>
            <li><strong>Strateji:</strong> Büyük sayılarınızı bir köşede tutmaya çalışın.</li>
            <li><strong>Oyun Sonu:</strong> Daha fazla hamle kalmadığında oyun biter.</li>
          </ul>
        </div>
      </div>

      <div class="text-center mb-5 mt-4">
        <a href="{{ url_for('all_games') }}" class="btn btn-outline-primary">
          <i class="fas fa-arrow-left"></i> Tüm Oyunlara Dön
        </a>
      </div>
    </div>
  </div>
</div>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/games/2048.js') }}"></script>
{% endblock %}