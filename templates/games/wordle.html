
{% extends "layout.html" %}

{% block title %}Wordle Oyunu{% endblock %}

{% block content %}
<div class="container">
  <h1 class="game-title text-center">Wordle</h1>

  <!-- Oyun İstatistikleri -->
  <div class="game-stats-container">
    <div class="game-stat-item">
      <i class="fas fa-trophy"></i>
      <div class="game-stat-value" id="score-display">0</div>
      <div class="game-stat-label">PUAN</div>
    </div>

    <div class="game-stat-item">
      <i class="fas fa-check-circle"></i>
      <div class="game-stat-value" id="tries-display">0/6</div>
      <div class="game-stat-label">DENEME</div>
    </div>

    <div class="game-stat-item">
      <i class="fas fa-gamepad"></i>
      <div class="game-stat-value" id="games-display">0</div>
      <div class="game-stat-label">OYUN</div>
    </div>
  </div>

  <div class="row justify-content-center">
    <div class="col-lg-10">
      <!-- Intro Section -->
      <div class="game-instructions" id="start-screen">
        <div class="row align-items-center">
          <div class="col-md-8">
            <h4 class="instruction-title"><i class="fas fa-info-circle me-2"></i>Nasıl Oynanır?</h4>
            <p>Wordle, 5 harfli bir kelimeyi 6 denemede tahmin etmeye çalıştığınız bir kelime oyunudur.</p>
            <div class="game-rules mt-3">
              <div class="rule-item">
                <i class="fas fa-keyboard"></i>
                <span>Her tahmin 5 harfli geçerli bir kelime olmalıdır</span>
              </div>
              <div class="rule-item">
                <i class="fas fa-square"></i>
                <span>Doğru yerde doğru harf: <span class="square correct-sample"></span></span>
              </div>
              <div class="rule-item">
                <i class="fas fa-square"></i>
                <span>Yanlış yerde doğru harf: <span class="square present-sample"></span></span>
              </div>
              <div class="rule-item">
                <i class="fas fa-square"></i>
                <span>Kelimede olmayan harf: <span class="square absent-sample"></span></span>
              </div>
            </div>
          </div>
          <div class="col-md-4 text-center text-md-end mt-4 mt-md-0">
            <button id="start-game" class="btn btn-primary btn-lg pulse-animation">
              <i class="fas fa-play me-2"></i>Oyunu Başlat
            </button>
          </div>
        </div>
      </div>

      <!-- Game Container -->
      <div id="game-container" class="game-container" style="display: none;">
        <!-- Game Controls Top -->
        <div class="game-controls-top">
          <button id="pause-game" class="game-control-btn" title="Oyunu Duraklat">
            <i class="fas fa-pause"></i>
          </button>
          <button id="sound-toggle" class="game-control-btn active" title="Sesi Aç/Kapat">
            <i class="fas fa-volume-up"></i>
          </button>
          <button id="hint-button" class="btn btn-info">İpucu <span id="hint-count">(1)</span></button>
        </div>

        <!-- Alert Container -->
        <div id="alert-container" class="memory-alert"></div>

        <!-- Wordle Grid -->
        <div class="wordle-grid-container">
          <div id="wordle-grid" class="wordle-grid">
            <!-- Rows will be added by JS -->
          </div>
        </div>

        <!-- Keyboard -->
        <div id="keyboard" class="keyboard">
          <div class="keyboard-row">
            <button class="keyboard-key" data-key="e">e</button>
            <button class="keyboard-key" data-key="r">r</button>
            <button class="keyboard-key" data-key="t">t</button>
            <button class="keyboard-key" data-key="y">y</button>
            <button class="keyboard-key" data-key="u">u</button>
            <button class="keyboard-key" data-key="ı">ı</button>
            <button class="keyboard-key" data-key="o">o</button>
            <button class="keyboard-key" data-key="p">p</button>
            <button class="keyboard-key" data-key="ğ">ğ</button>
            <button class="keyboard-key" data-key="ü">ü</button>
          </div>
          <div class="keyboard-row">
            <button class="keyboard-key" data-key="a">a</button>
            <button class="keyboard-key" data-key="s">s</button>
            <button class="keyboard-key" data-key="d">d</button>
            <button class="keyboard-key" data-key="f">f</button>
            <button class="keyboard-key" data-key="g">g</button>
            <button class="keyboard-key" data-key="h">h</button>
            <button class="keyboard-key" data-key="j">j</button>
            <button class="keyboard-key" data-key="k">k</button>
            <button class="keyboard-key" data-key="l">l</button>
            <button class="keyboard-key" data-key="ş">ş</button>
            <button class="keyboard-key" data-key="i">i</button>
          </div>
          <div class="keyboard-row">
            <button class="keyboard-key" data-key="Enter" id="enter-key">Gönder</button>
            <button class="keyboard-key" data-key="z">z</button>
            <button class="keyboard-key" data-key="c">c</button>
            <button class="keyboard-key" data-key="v">v</button>
            <button class="keyboard-key" data-key="b">b</button>
            <button class="keyboard-key" data-key="n">n</button>
            <button class="keyboard-key" data-key="m">m</button>
            <button class="keyboard-key" data-key="ö">ö</button>
            <button class="keyboard-key" data-key="ç">ç</button>
            <button class="keyboard-key" data-key="Backspace" id="backspace-key"><i class="fas fa-backspace"></i></button>
          </div>
        </div>
      </div>

      <!-- Game Over Container -->
      <div id="game-over-container" class="memory-results-container" style="display: none;">
        <div class="memory-results-card">
          <div class="memory-results-header">
            <span class="result-badge">
              <i class="fas fa-flag-checkered"></i>
            </span>
            <h2 class="mb-0">Oyun Tamamlandı!</h2>
          </div>

          <div class="memory-results-body">
            <div class="results-stats">
              <div class="result-stat">
                <i class="fas fa-trophy"></i>
                <div class="result-stat-value">
                  <span id="final-score">0</span>
                </div>
                <div class="result-stat-label">Toplam Puan</div>
              </div>

              <div class="result-stat">
                <i class="fas fa-check-circle"></i>
                <div class="result-stat-value">
                  <span id="final-tries">0/6</span>
                </div>
                <div class="result-stat-label">Deneme Sayısı</div>
              </div>

              <div class="result-stat">
                <i class="fas fa-key"></i>
                <div class="result-stat-value">
                  <span id="correct-word">-</span>
                </div>
                <div class="result-stat-label">Doğru Kelime</div>
              </div>
            </div>

            <div class="results-rating">
              <div class="rating-stars">
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="far fa-star"></i>
                <i class="far fa-star"></i>
              </div>
              <div class="rating-text" id="rating-text">İyi!</div>
            </div>
          </div>

          <div class="memory-results-footer">
            <button id="play-again" class="btn btn-primary btn-lg">
              <i class="fas fa-redo me-2"></i>Tekrar Oyna
            </button>
            <a href="{{ url_for('leaderboard') }}" class="btn btn-outline-primary btn-lg">
              <i class="fas fa-trophy me-2"></i>Skor Tablosu
            </a>
          </div>
        </div>

        <div class="memory-share-section">
          <p>Skorunuzu paylaşın:</p>
          <div class="share-buttons">
            <button class="share-btn" title="Kopyala" id="copy-score">
              <i class="fas fa-copy"></i>
            </button>
            <button class="share-btn" title="Paylaş" id="share-score">
              <i class="fas fa-share-alt"></i>
            </button>
          </div>
        </div>
      </div>

      <!-- Pause Menu Overlay -->
      <div id="pause-overlay" class="pause-overlay" style="display: none;">
        <div class="pause-card">
          <h3><i class="fas fa-pause me-2"></i>Oyun Duraklatıldı</h3>
          <p>Devam etmek için aşağıdaki düğmeye tıklayın.</p>
          <button id="resume-game" class="btn btn-primary btn-lg">
            <i class="fas fa-play me-2"></i>Devam Et
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}

{% block styles %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/wordle.css') }}">
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/games/wordle.js') }}"></script>
<script src="{{ url_for('static', filename='js/games/wordleWords.js') }}"></script>
{% endblock %}
