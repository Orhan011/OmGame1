{% extends "layout.html" %}

{% block title %}Şifremi Unuttum - OmGame{% endblock %}

{% block extra_head %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/auth.css') }}">
{% endblock %}

{% block content %}
<div class="auth-container">
  <div class="auth-card">
    <img src="{{ url_for('static', filename='images/logo.png') }}" alt="OmGame Logo" class="auth-logo-small">

    <div class="auth-header">
      <h2>Şifremi Unuttum</h2>
      <p class="auth-subtitle">Şifrenizi sıfırlamak için e-posta adresinizi girin</p>
    </div>

    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        {% for category, message in messages %}
          <div class="alert alert-{{ category if category != '_' else 'info' }} alert-dismissible fade show">
            <i class="fas fa-info-circle"></i> {{ message }}
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Kapat"></button>
          </div>
        {% endfor %}
      {% endif %}
    {% endwith %}

    <div class="instructions">
      <i class="fas fa-info-circle"></i> Size bir doğrulama kodu göndereceğiz. <strong>Bu kod ekranda görüntülenecektir.</strong> Gmail'e gönderim sorunları nedeniyle, doğrulama kodu doğrudan burada gösterilecek ve bu kod ile şifrenizi sıfırlayabilirsiniz.
    </div>

    <form action="/sifremi-unuttum" method="post" class="auth-form">
      <div class="floating-label">
        <div class="input-icon-wrapper">
          <i class="fas fa-envelope input-icon"></i>
          <input type="email" id="email" name="email" placeholder=" " required>
          <label for="email">E-posta Adresiniz</label>
        </div>
      </div>

      <button type="submit" class="btn-primary">
        <i class="fas fa-paper-plane"></i> Doğrulama Kodu Gönder
      </button>
    </form>

    <div class="auth-links">
      Giriş sayfasına dönmek için <a href="{{ url_for('login') }}">buraya tıklayın</a>
    </div>
  </div>
</div>

<style>
.instructions {
  background: rgba(40, 40, 80, 0.5);
  border-radius: 12px;
  padding: 15px;
  margin-bottom: 20px;
  font-size: 0.9rem;
  color: rgba(255, 255, 255, 0.8);
  display: flex;
  align-items: flex-start;
  gap: 10px;
  border: 1px solid rgba(106, 90, 224, 0.2);
}

.instructions i {
  color: #8C66FF;
  font-size: 1.1rem;
  margin-top: 2px;
}
</style>
{% endblock %}