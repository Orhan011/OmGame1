
/* 
 * Advanced iOS-style swipe navigation styles
 * Matches iPhone's native back gesture physics and appearance
 */

body {
  position: relative;
  min-height: 100vh;
  will-change: transform;
  overflow-x: hidden;
  transition: transform 0.3s cubic-bezier(0.16, 1, 0.3, 1);
  overscroll-behavior-x: none; /* Prevent browser overscroll */
  touch-action: pan-y; /* Allow vertical scrolling but capture horizontal */
}

.ios-page-preview {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 9997;
  background-color: #f5f5f7; /* Light default background similar to iOS */
  transform: translateX(-30%);
  will-change: transform;
  display: none;
  border-radius: 0;
  box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
}

.ios-edge-shadow {
  position: fixed;
  top: 0;
  left: 0;
  width: 20px;
  height: 100%;
  z-index: 9999;
  background: linear-gradient(to right, rgba(0, 0, 0, 0.2), transparent);
  opacity: 0;
  display: none;
  pointer-events: none;
  will-change: opacity, left;
}

.ios-dim-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 9998;
  background-color: rgba(0, 0, 0, 0.4);
  opacity: 0;
  display: none;
  pointer-events: none;
  will-change: opacity;
}

/* Animation refinements for smoother performance */
.ios-page-preview,
.ios-edge-shadow,
.ios-dim-overlay {
  backface-visibility: hidden;
  perspective: 1000px;
}

/* Dark mode support */
@media (prefers-color-scheme: dark) {
  .ios-page-preview {
    background-color: #1c1c1e; /* Dark background similar to iOS dark mode */
  }
  
  .ios-edge-shadow {
    background: linear-gradient(to right, rgba(0, 0, 0, 0.3), transparent);
  }
}

/* Disable animation for smaller screens */
@media (max-width: 360px) {
  .ios-page-preview,
  .ios-edge-shadow,
  .ios-dim-overlay {
    display: none !important;
  }
}

/* Hide for print media */
@media print {
  .ios-page-preview,
  .ios-edge-shadow,
  .ios-dim-overlay {
    display: none !important;
  }
}
